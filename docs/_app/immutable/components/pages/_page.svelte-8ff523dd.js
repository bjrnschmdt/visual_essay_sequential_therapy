var rr=Object.defineProperty;var sr=(e,n,t)=>n in e?rr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var j=(e,n,t)=>(sr(e,typeof n!="symbol"?n+"":n,t),t);import{S as it,i as rt,s as st,k as N,J as or,l as D,h as C,n as T,H as E,C as Ne,K as xt,a as we,q as se,m as he,c as Me,r as oe,b as xe,L as zt,M as ar,N as lr,o as hr,O as ur,p as ie,v as cr,x as _t,y as At,z as Tt,f as $t,t as Pt,A as It,P as St}from"../../chunks/index-34c933d8.js";import{d as dr,S as Rt,r as fr,c as gr,i as On,a as De,b as qn,e as mr,f as Qe}from"../../chunks/transform-42bda0c7.js";function br(e){let n,t,i,r,s,o,a,l,h,d,u,c,f,b,m,y,p,v,w,_,x,P,R,I,B;return document.title=n=e[0],{c(){t=N("meta"),i=N("meta"),r=N("meta"),s=N("meta"),o=N("meta"),a=N("meta"),l=N("meta"),h=N("meta"),d=N("meta"),u=N("meta"),f=N("meta"),b=N("meta"),m=N("meta"),y=N("meta"),p=N("meta"),v=N("meta"),w=N("meta"),_=N("meta"),x=N("meta"),R=N("meta"),I=N("link"),this.h()},l(M){const g=or("svelte-w6pqpj",document.head);t=D(g,"META",{name:!0,content:!0}),i=D(g,"META",{name:!0,content:!0}),r=D(g,"META",{name:!0,content:!0}),s=D(g,"META",{property:!0,content:!0}),o=D(g,"META",{property:!0,content:!0}),a=D(g,"META",{property:!0,content:!0}),l=D(g,"META",{property:!0,content:!0}),h=D(g,"META",{property:!0,content:!0}),d=D(g,"META",{property:!0,content:!0}),u=D(g,"META",{property:!0,content:!0}),f=D(g,"META",{property:!0,content:!0}),b=D(g,"META",{property:!0,content:!0}),m=D(g,"META",{property:!0,content:!0}),y=D(g,"META",{name:!0,content:!0}),p=D(g,"META",{name:!0,content:!0}),v=D(g,"META",{name:!0,content:!0}),w=D(g,"META",{name:!0,content:!0}),_=D(g,"META",{name:!0,content:!0}),x=D(g,"META",{name:!0,content:!0}),R=D(g,"META",{name:!0,content:!0}),I=D(g,"LINK",{rel:!0,href:!0}),g.forEach(C),this.h()},h(){T(t,"name","description"),T(t,"content",e[1]),T(i,"name","author"),T(i,"content","The Pudding"),T(r,"name","news_keywords"),T(r,"content",e[3]),T(s,"property","og:title"),T(s,"content",e[0]),T(o,"property","og:site_name"),T(o,"content","The Pudding"),T(a,"property","og:url"),T(a,"content",e[2]),T(l,"property","og:description"),T(l,"content",e[1]),T(h,"property","og:type"),T(h,"content","article"),T(d,"property","og:locale"),T(d,"content","en_US"),T(u,"property","og:image"),T(u,"content",c=e[2]+"/assets/social-facebook.jpg"),T(f,"property","og:image:type"),T(f,"content","image/jpeg"),T(b,"property","og:image:width"),T(b,"content","1200"),T(m,"property","og:image:height"),T(m,"content","600"),T(y,"name","twitter:card"),T(y,"content","summary_large_image"),T(p,"name","twitter:site"),T(p,"content","https://pudding.cool"),T(v,"name","twitter:creator"),T(v,"content","@puddingviz"),T(w,"name","twitter:title"),T(w,"content",e[0]),T(_,"name","twitter:description"),T(_,"content",e[1]),T(x,"name","twitter:image:src"),T(x,"content",P=e[2]+"/assets/social-twitter.jpg"),T(R,"name","robots"),T(R,"content","max-image-preview:large"),T(I,"rel","canonical"),T(I,"href",B=e[2]+"/")},m(M,g){E(document.head,t),E(document.head,i),E(document.head,r),E(document.head,s),E(document.head,o),E(document.head,a),E(document.head,l),E(document.head,h),E(document.head,d),E(document.head,u),E(document.head,f),E(document.head,b),E(document.head,m),E(document.head,y),E(document.head,p),E(document.head,v),E(document.head,w),E(document.head,_),E(document.head,x),E(document.head,R),E(document.head,I)},p(M,[g]){g&1&&n!==(n=M[0])&&(document.title=n),g&2&&T(t,"content",M[1]),g&8&&T(r,"content",M[3]),g&1&&T(s,"content",M[0]),g&4&&T(a,"content",M[2]),g&2&&T(l,"content",M[1]),g&4&&c!==(c=M[2]+"/assets/social-facebook.jpg")&&T(u,"content",c),g&1&&T(w,"content",M[0]),g&2&&T(_,"content",M[1]),g&4&&P!==(P=M[2]+"/assets/social-twitter.jpg")&&T(x,"content",P),g&4&&B!==(B=M[2]+"/")&&T(I,"href",B)},i:Ne,o:Ne,d(M){C(t),C(i),C(r),C(s),C(o),C(a),C(l),C(h),C(d),C(u),C(f),C(b),C(m),C(y),C(p),C(v),C(w),C(_),C(x),C(R),C(I)}}}function pr(e,n,t){let{title:i="Title TK"}=n,{description:r="Description TK"}=n,{url:s="https://pudding.cool"}=n,{keywords:o=""}=n;return e.$$set=a=>{"title"in a&&t(0,i=a.title),"description"in a&&t(1,r=a.description),"url"in a&&t(2,s=a.url),"keywords"in a&&t(3,o=a.keywords)},[i,r,s,o]}class yr extends it{constructor(n){super(),rt(this,n,pr,br,st,{title:0,description:1,url:2,keywords:3})}}function Ue(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function xi(e){let n,t,i;e.length!==2?(n=Ue,t=(a,l)=>Ue(e(a),l),i=(a,l)=>e(a)-l):(n=e===Ue||e===dr?e:vr,t=e,i=e);function r(a,l,h=0,d=a.length){if(h<d){if(n(l,l)!==0)return d;do{const u=h+d>>>1;t(a[u],l)<0?h=u+1:d=u}while(h<d)}return h}function s(a,l,h=0,d=a.length){if(h<d){if(n(l,l)!==0)return d;do{const u=h+d>>>1;t(a[u],l)<=0?h=u+1:d=u}while(h<d)}return h}function o(a,l,h=0,d=a.length){const u=r(a,l,h,d-1);return u>h&&i(a[u-1],l)>-i(a[u],l)?u-1:u}return{left:r,center:o,right:s}}function vr(){return 0}function kr(e){return e===null?NaN:+e}const wr=xi(Ue),Mr=wr.right;xi(kr).center;const xr=Mr,zr=Math.sqrt(50),_r=Math.sqrt(10),Ar=Math.sqrt(2);function en(e,n,t){const i=(n-e)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=zr?10:s>=_r?5:s>=Ar?2:1;let a,l,h;return r<0?(h=Math.pow(10,-r)/o,a=Math.round(e*h),l=Math.round(n*h),a/h<e&&++a,l/h>n&&--l,h=-h):(h=Math.pow(10,r)*o,a=Math.round(e/h),l=Math.round(n/h),a*h<e&&++a,l*h>n&&--l),l<a&&.5<=t&&t<2?en(e,n,t*2):[a,l,h]}function Tr(e,n,t){if(n=+n,e=+e,t=+t,!(t>0))return[];if(e===n)return[e];const i=n<e,[r,s,o]=i?en(n,e,t):en(e,n,t);if(!(s>=r))return[];const a=s-r+1,l=new Array(a);if(i)if(o<0)for(let h=0;h<a;++h)l[h]=(s-h)/-o;else for(let h=0;h<a;++h)l[h]=(s-h)*o;else if(o<0)for(let h=0;h<a;++h)l[h]=(r+h)/-o;else for(let h=0;h<a;++h)l[h]=(r+h)*o;return l}function Gn(e,n,t){return n=+n,e=+e,t=+t,en(e,n,t)[2]}function $r(e,n,t){n=+n,e=+e,t=+t;const i=n<e,r=i?Gn(n,e,t):Gn(e,n,t);return(i?-1:1)*(r<0?1/-r:r)}function Lt(e,n){let t;if(n===void 0)for(const i of e)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of e)(r=n(r,++i,e))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}const Pr=Ir(Math.random);function Ir(e){return function(t,i=0,r=t.length){let s=r-(i=+i);for(;s;){const o=e()*s--|0,a=t[s+i];t[s+i]=t[o+i],t[o+i]=a}return t}}function kn(e){return typeof e=="string"?new Rt([[document.querySelector(e)]],[document.documentElement]):new Rt([[e]],fr)}function Sr(e,n){n||(n=[]);var t=e?Math.min(n.length,e.length):0,i=n.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=e[r]*(1-s)+n[r]*s;return i}}function Rr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lr(e,n){var t=n?n.length:0,i=e?Math.min(t,e.length):0,r=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)r[o]=ot(e[o],n[o]);for(;o<t;++o)s[o]=n[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function Br(e,n){var t=new Date;return e=+e,n=+n,function(i){return t.setTime(e*(1-i)+n*i),t}}function Fr(e,n){var t={},i={},r;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(r in n)r in e?t[r]=ot(e[r],n[r]):i[r]=n[r];return function(s){for(r in t)i[r]=t[r](s);return i}}function ot(e,n){var t=typeof n,i;return n==null||t==="boolean"?gr(n):(t==="number"?On:t==="string"?(i=De(n))?(n=i,qn):mr:n instanceof De?qn:n instanceof Date?Br:Rr(n)?Sr:Array.isArray(n)?Lr:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Fr:On)(e,n)}function Er(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var at=3;(function e(n){n=+n;function t(i){return Math.pow(i,n)}return t.exponent=e,t})(at);(function e(n){n=+n;function t(i){return 1-Math.pow(1-i,n)}return t.exponent=e,t})(at);var Cr=function e(n){n=+n;function t(i){return((i*=2)<=1?Math.pow(i,n):2-Math.pow(2-i,n))/2}return t.exponent=e,t}(at);const ee=11102230246251565e-32,Y=134217729,Nr=(3+8*ee)*ee;function wn(e,n,t,i,r){let s,o,a,l,h=n[0],d=i[0],u=0,c=0;d>h==d>-h?(s=h,h=n[++u]):(s=d,d=i[++c]);let f=0;if(u<e&&c<t)for(d>h==d>-h?(o=h+s,a=s-(o-h),h=n[++u]):(o=d+s,a=s-(o-d),d=i[++c]),s=o,a!==0&&(r[f++]=a);u<e&&c<t;)d>h==d>-h?(o=s+h,l=o-s,a=s-(o-l)+(h-l),h=n[++u]):(o=s+d,l=o-s,a=s-(o-l)+(d-l),d=i[++c]),s=o,a!==0&&(r[f++]=a);for(;u<e;)o=s+h,l=o-s,a=s-(o-l)+(h-l),h=n[++u],s=o,a!==0&&(r[f++]=a);for(;c<t;)o=s+d,l=o-s,a=s-(o-l)+(d-l),d=i[++c],s=o,a!==0&&(r[f++]=a);return(s!==0||f===0)&&(r[f++]=s),f}function Dr(e,n){let t=n[0];for(let i=1;i<e;i++)t+=n[i];return t}function He(e){return new Float64Array(e)}const Xr=(3+16*ee)*ee,Hr=(2+12*ee)*ee,jr=(9+64*ee)*ee*ee,pe=He(4),Bt=He(8),Ft=He(12),Et=He(16),U=He(4);function Kr(e,n,t,i,r,s,o){let a,l,h,d,u,c,f,b,m,y,p,v,w,_,x,P,R,I;const B=e-r,M=t-r,g=n-s,$=i-s;_=B*$,c=Y*B,f=c-(c-B),b=B-f,c=Y*$,m=c-(c-$),y=$-m,x=b*y-(_-f*m-b*m-f*y),P=g*M,c=Y*g,f=c-(c-g),b=g-f,c=Y*M,m=c-(c-M),y=M-m,R=b*y-(P-f*m-b*m-f*y),p=x-R,u=x-p,pe[0]=x-(p+u)+(u-R),v=_+p,u=v-_,w=_-(v-u)+(p-u),p=w-P,u=w-p,pe[1]=w-(p+u)+(u-P),I=v+p,u=I-v,pe[2]=v-(I-u)+(p-u),pe[3]=I;let A=Dr(4,pe),F=Hr*o;if(A>=F||-A>=F||(u=e-B,a=e-(B+u)+(u-r),u=t-M,h=t-(M+u)+(u-r),u=n-g,l=n-(g+u)+(u-s),u=i-$,d=i-($+u)+(u-s),a===0&&l===0&&h===0&&d===0)||(F=jr*o+Nr*Math.abs(A),A+=B*d+$*a-(g*h+M*l),A>=F||-A>=F))return A;_=a*$,c=Y*a,f=c-(c-a),b=a-f,c=Y*$,m=c-(c-$),y=$-m,x=b*y-(_-f*m-b*m-f*y),P=l*M,c=Y*l,f=c-(c-l),b=l-f,c=Y*M,m=c-(c-M),y=M-m,R=b*y-(P-f*m-b*m-f*y),p=x-R,u=x-p,U[0]=x-(p+u)+(u-R),v=_+p,u=v-_,w=_-(v-u)+(p-u),p=w-P,u=w-p,U[1]=w-(p+u)+(u-P),I=v+p,u=I-v,U[2]=v-(I-u)+(p-u),U[3]=I;const Z=wn(4,pe,4,U,Bt);_=B*d,c=Y*B,f=c-(c-B),b=B-f,c=Y*d,m=c-(c-d),y=d-m,x=b*y-(_-f*m-b*m-f*y),P=g*h,c=Y*g,f=c-(c-g),b=g-f,c=Y*h,m=c-(c-h),y=h-m,R=b*y-(P-f*m-b*m-f*y),p=x-R,u=x-p,U[0]=x-(p+u)+(u-R),v=_+p,u=v-_,w=_-(v-u)+(p-u),p=w-P,u=w-p,U[1]=w-(p+u)+(u-P),I=v+p,u=I-v,U[2]=v-(I-u)+(p-u),U[3]=I;const K=wn(Z,Bt,4,U,Ft);_=a*d,c=Y*a,f=c-(c-a),b=a-f,c=Y*d,m=c-(c-d),y=d-m,x=b*y-(_-f*m-b*m-f*y),P=l*h,c=Y*l,f=c-(c-l),b=l-f,c=Y*h,m=c-(c-h),y=h-m,R=b*y-(P-f*m-b*m-f*y),p=x-R,u=x-p,U[0]=x-(p+u)+(u-R),v=_+p,u=v-_,w=_-(v-u)+(p-u),p=w-P,u=w-p,U[1]=w-(p+u)+(u-P),I=v+p,u=I-v,U[2]=v-(I-u)+(p-u),U[3]=I;const L=wn(K,Ft,4,U,Et);return Et[L-1]}function Oe(e,n,t,i,r,s){const o=(n-s)*(t-r),a=(e-r)*(i-s),l=o-a;if(o===0||a===0||o>0!=a>0)return l;const h=Math.abs(o+a);return Math.abs(l)>=Xr*h?l:-Kr(e,n,t,i,r,s,h)}const Ct=Math.pow(2,-52),qe=new Uint32Array(512);class nn{static from(n,t=Zr,i=Vr){const r=n.length,s=new Float64Array(r*2);for(let o=0;o<r;o++){const a=n[o];s[2*o]=t(a),s[2*o+1]=i(a)}return new nn(s)}constructor(n){const t=n.length>>1;if(t>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const i=Math.max(2*t-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:n,_hullPrev:t,_hullNext:i,_hullTri:r,_hullHash:s}=this,o=n.length>>1;let a=1/0,l=1/0,h=-1/0,d=-1/0;for(let M=0;M<o;M++){const g=n[2*M],$=n[2*M+1];g<a&&(a=g),$<l&&(l=$),g>h&&(h=g),$>d&&(d=$),this._ids[M]=M}const u=(a+h)/2,c=(l+d)/2;let f=1/0,b,m,y;for(let M=0;M<o;M++){const g=Mn(u,c,n[2*M],n[2*M+1]);g<f&&(b=M,f=g)}const p=n[2*b],v=n[2*b+1];f=1/0;for(let M=0;M<o;M++){if(M===b)continue;const g=Mn(p,v,n[2*M],n[2*M+1]);g<f&&g>0&&(m=M,f=g)}let w=n[2*m],_=n[2*m+1],x=1/0;for(let M=0;M<o;M++){if(M===b||M===m)continue;const g=qr(p,v,w,_,n[2*M],n[2*M+1]);g<x&&(y=M,x=g)}let P=n[2*y],R=n[2*y+1];if(x===1/0){for(let $=0;$<o;$++)this._dists[$]=n[2*$]-n[0]||n[2*$+1]-n[1];ve(this._ids,this._dists,0,o-1);const M=new Uint32Array(o);let g=0;for(let $=0,A=-1/0;$<o;$++){const F=this._ids[$];this._dists[F]>A&&(M[g++]=F,A=this._dists[F])}this.hull=M.subarray(0,g),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Oe(p,v,w,_,P,R)<0){const M=m,g=w,$=_;m=y,w=P,_=R,y=M,P=g,R=$}const I=Gr(p,v,w,_,P,R);this._cx=I.x,this._cy=I.y;for(let M=0;M<o;M++)this._dists[M]=Mn(n[2*M],n[2*M+1],I.x,I.y);ve(this._ids,this._dists,0,o-1),this._hullStart=b;let B=3;i[b]=t[y]=m,i[m]=t[b]=y,i[y]=t[m]=b,r[b]=0,r[m]=1,r[y]=2,s.fill(-1),s[this._hashKey(p,v)]=b,s[this._hashKey(w,_)]=m,s[this._hashKey(P,R)]=y,this.trianglesLen=0,this._addTriangle(b,m,y,-1,-1,-1);for(let M=0,g,$;M<this._ids.length;M++){const A=this._ids[M],F=n[2*A],Z=n[2*A+1];if(M>0&&Math.abs(F-g)<=Ct&&Math.abs(Z-$)<=Ct||(g=F,$=Z,A===b||A===m||A===y))continue;let K=0;for(let be=0,Re=this._hashKey(F,Z);be<this._hashSize&&(K=s[(Re+be)%this._hashSize],!(K!==-1&&K!==i[K]));be++);K=t[K];let L=K,H;for(;H=i[L],Oe(F,Z,n[2*L],n[2*L+1],n[2*H],n[2*H+1])>=0;)if(L=H,L===K){L=-1;break}if(L===-1)continue;let W=this._addTriangle(L,A,i[L],-1,-1,r[L]);r[A]=this._legalize(W+2),r[L]=W,B++;let J=i[L];for(;H=i[J],Oe(F,Z,n[2*J],n[2*J+1],n[2*H],n[2*H+1])<0;)W=this._addTriangle(J,A,H,r[A],-1,r[J]),r[A]=this._legalize(W+2),i[J]=J,B--,J=H;if(L===K)for(;H=t[L],Oe(F,Z,n[2*H],n[2*H+1],n[2*L],n[2*L+1])<0;)W=this._addTriangle(H,A,L,-1,r[L],r[H]),this._legalize(W+2),r[H]=W,i[L]=L,B--,L=H;this._hullStart=t[A]=L,i[L]=t[J]=A,i[A]=J,s[this._hashKey(F,Z)]=A,s[this._hashKey(n[2*L],n[2*L+1])]=L}this.hull=new Uint32Array(B);for(let M=0,g=this._hullStart;M<B;M++)this.hull[M]=g,g=i[g];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,t){return Math.floor(Wr(n-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:t,_halfedges:i,coords:r}=this;let s=0,o=0;for(;;){const a=i[n],l=n-n%3;if(o=l+(n+2)%3,a===-1){if(s===0)break;n=qe[--s];continue}const h=a-a%3,d=l+(n+1)%3,u=h+(a+2)%3,c=t[o],f=t[n],b=t[d],m=t[u];if(Or(r[2*c],r[2*c+1],r[2*f],r[2*f+1],r[2*b],r[2*b+1],r[2*m],r[2*m+1])){t[n]=m,t[a]=c;const p=i[u];if(p===-1){let w=this._hullStart;do{if(this._hullTri[w]===u){this._hullTri[w]=n;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(n,p),this._link(a,i[o]),this._link(o,u);const v=h+(a+1)%3;s<qe.length&&(qe[s++]=v)}else{if(s===0)break;n=qe[--s]}}return o}_link(n,t){this._halfedges[n]=t,t!==-1&&(this._halfedges[t]=n)}_addTriangle(n,t,i,r,s,o){const a=this.trianglesLen;return this._triangles[a]=n,this._triangles[a+1]=t,this._triangles[a+2]=i,this._link(a,r),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function Wr(e,n){const t=e/(Math.abs(e)+Math.abs(n));return(n>0?3-t:1+t)/4}function Mn(e,n,t,i){const r=e-t,s=n-i;return r*r+s*s}function Or(e,n,t,i,r,s,o,a){const l=e-o,h=n-a,d=t-o,u=i-a,c=r-o,f=s-a,b=l*l+h*h,m=d*d+u*u,y=c*c+f*f;return l*(u*y-m*f)-h*(d*y-m*c)+b*(d*f-u*c)<0}function qr(e,n,t,i,r,s){const o=t-e,a=i-n,l=r-e,h=s-n,d=o*o+a*a,u=l*l+h*h,c=.5/(o*h-a*l),f=(h*d-a*u)*c,b=(o*u-l*d)*c;return f*f+b*b}function Gr(e,n,t,i,r,s){const o=t-e,a=i-n,l=r-e,h=s-n,d=o*o+a*a,u=l*l+h*h,c=.5/(o*h-a*l),f=e+(h*d-a*u)*c,b=n+(o*u-l*d)*c;return{x:f,y:b}}function ve(e,n,t,i){if(i-t<=20)for(let r=t+1;r<=i;r++){const s=e[r],o=n[s];let a=r-1;for(;a>=t&&n[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const r=t+i>>1;let s=t+1,o=i;Le(e,r,s),n[e[t]]>n[e[i]]&&Le(e,t,i),n[e[s]]>n[e[i]]&&Le(e,s,i),n[e[t]]>n[e[s]]&&Le(e,t,s);const a=e[s],l=n[a];for(;;){do s++;while(n[e[s]]<l);do o--;while(n[e[o]]>l);if(o<s)break;Le(e,s,o)}e[t+1]=e[o],e[o]=a,i-s+1>=o-t?(ve(e,n,s,i),ve(e,n,t,o-1)):(ve(e,n,t,o-1),ve(e,n,s,i))}}function Le(e,n,t){const i=e[n];e[n]=e[t],e[t]=i}function Zr(e){return e[0]}function Vr(e){return e[1]}const Nt=1e-6;class ge{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,t){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,t){this._+=`L${this._x1=+n},${this._y1=+t}`}arc(n,t,i){n=+n,t=+t,i=+i;const r=n+i,s=t;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>Nt||Math.abs(this._y1-s)>Nt)&&(this._+="L"+r+","+s),i&&(this._+=`A${i},${i},0,1,1,${n-i},${t}A${i},${i},0,1,1,${this._x1=r},${this._y1=s}`)}rect(n,t,i,r){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class Zn{constructor(){this._=[]}moveTo(n,t){this._.push([n,t])}closePath(){this._.push(this._[0].slice())}lineTo(n,t){this._.push([n,t])}value(){return this._.length?this._:null}}class Yr{constructor(n,[t,i,r,s]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=r,this.xmin=t,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:t,triangles:i},vectors:r}=this,s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let f=0,b=0,m=i.length,y,p;f<m;f+=3,b+=2){const v=i[f]*2,w=i[f+1]*2,_=i[f+2]*2,x=n[v],P=n[v+1],R=n[w],I=n[w+1],B=n[_],M=n[_+1],g=R-x,$=I-P,A=B-x,F=M-P,Z=(g*F-$*A)*2;if(Math.abs(Z)<1e-9){let K=1e9;const L=i[0]*2;K*=Math.sign((n[L]-x)*F-(n[L+1]-P)*A),y=(x+B)/2-K*F,p=(P+M)/2+K*A}else{const K=1/Z,L=g*g+$*$,H=A*A+F*F;y=x+(F*L-$*H)*K,p=P+(g*H-A*L)*K}s[b]=y,s[b+1]=p}let o=t[t.length-1],a,l=o*4,h,d=n[2*o],u,c=n[2*o+1];r.fill(0);for(let f=0;f<t.length;++f)o=t[f],a=l,h=d,u=c,l=o*4,d=n[2*o],c=n[2*o+1],r[a+2]=r[l]=u-c,r[a+3]=r[l+1]=d-h}render(n){const t=n==null?n=new ge:void 0,{delaunay:{halfedges:i,inedges:r,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let d=0,u=i.length;d<u;++d){const c=i[d];if(c<d)continue;const f=Math.floor(d/3)*2,b=Math.floor(c/3)*2,m=o[f],y=o[f+1],p=o[b],v=o[b+1];this._renderSegment(m,y,p,v,n)}let l,h=s[s.length-1];for(let d=0;d<s.length;++d){l=h,h=s[d];const u=Math.floor(r[h]/3)*2,c=o[u],f=o[u+1],b=l*4,m=this._project(c,f,a[b+2],a[b+3]);m&&this._renderSegment(c,f,m[0],m[1],n)}return t&&t.value()}renderBounds(n){const t=n==null?n=new ge:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(n,t){const i=t==null?t=new ge:void 0,r=this._clip(n);if(r===null||!r.length)return;t.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(r[o]!==r[o-2]||r[o+1]!==r[o-1])&&t.lineTo(r[o],r[o+1]);return t.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let t=0,i=n.length/2;t<i;++t){const r=this.cellPolygon(t);r&&(r.index=t,yield r)}}cellPolygon(n){const t=new Zn;return this.renderCell(n,t),t.value()}_renderSegment(n,t,i,r,s){let o;const a=this._regioncode(n,t),l=this._regioncode(i,r);a===0&&l===0?(s.moveTo(n,t),s.lineTo(i,r)):(o=this._clipSegment(n,t,i,r,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(n,t,i){return t=+t,t!==t||(i=+i,i!==i)?!1:this.delaunay._step(n,t,i)===n}*neighbors(n){const t=this._clip(n);if(t)for(const i of this.delaunay.neighbors(n)){const r=this._clip(i);if(r){e:for(let s=0,o=t.length;s<o;s+=2)for(let a=0,l=r.length;a<l;a+=2)if(t[s]==r[a]&&t[s+1]==r[a+1]&&t[(s+2)%o]==r[(a+l-2)%l]&&t[(s+3)%o]==r[(a+l-1)%l]){yield i;break e}}}}_cell(n){const{circumcenters:t,delaunay:{inedges:i,halfedges:r,triangles:s}}=this,o=i[n];if(o===-1)return null;const a=[];let l=o;do{const h=Math.floor(l/3);if(a.push(t[h*2],t[h*2+1]),l=l%3===2?l-2:l+1,s[l]!==n)break;l=r[l]}while(l!==o&&l!==-1);return a}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(n);if(t===null)return null;const{vectors:i}=this,r=n*4;return i[r]||i[r+1]?this._clipInfinite(n,t,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(n,t)}_clipFinite(n,t){const i=t.length;let r=null,s,o,a=t[i-2],l=t[i-1],h,d=this._regioncode(a,l),u,c=0;for(let f=0;f<i;f+=2)if(s=a,o=l,a=t[f],l=t[f+1],h=d,d=this._regioncode(a,l),h===0&&d===0)u=c,c=0,r?r.push(a,l):r=[a,l];else{let b,m,y,p,v;if(h===0){if((b=this._clipSegment(s,o,a,l,h,d))===null)continue;[m,y,p,v]=b}else{if((b=this._clipSegment(a,l,s,o,d,h))===null)continue;[p,v,m,y]=b,u=c,c=this._edgecode(m,y),u&&c&&this._edge(n,u,c,r,r.length),r?r.push(m,y):r=[m,y]}u=c,c=this._edgecode(p,v),u&&c&&this._edge(n,u,c,r,r.length),r?r.push(p,v):r=[p,v]}if(r)u=c,c=this._edgecode(r[0],r[1]),u&&c&&this._edge(n,u,c,r,r.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(n,t,i,r,s,o){for(;;){if(s===0&&o===0)return[n,t,i,r];if(s&o)return null;let a,l,h=s||o;h&8?(a=n+(i-n)*(this.ymax-t)/(r-t),l=this.ymax):h&4?(a=n+(i-n)*(this.ymin-t)/(r-t),l=this.ymin):h&2?(l=t+(r-t)*(this.xmax-n)/(i-n),a=this.xmax):(l=t+(r-t)*(this.xmin-n)/(i-n),a=this.xmin),s?(n=a,t=l,s=this._regioncode(n,t)):(i=a,r=l,o=this._regioncode(i,r))}}_clipInfinite(n,t,i,r,s,o){let a=Array.from(t),l;if((l=this._project(a[0],a[1],i,r))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(n,a))for(let h=0,d=a.length,u,c=this._edgecode(a[d-2],a[d-1]);h<d;h+=2)u=c,c=this._edgecode(a[h],a[h+1]),u&&c&&(h=this._edge(n,u,c,a,h),d=a.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(n,t,i,r,s){for(;t!==i;){let o,a;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin;break}(r[s]!==o||r[s+1]!==a)&&this.contains(n,o,a)&&(r.splice(s,0,o,a),s+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const a=(o+2)%r.length,l=(o+4)%r.length;(r[o]===r[a]&&r[a]===r[l]||r[o+1]===r[a+1]&&r[a+1]===r[l+1])&&(r.splice(a,2),o-=2)}return s}_project(n,t,i,r){let s=1/0,o,a,l;if(r<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/r)<s&&(l=this.ymin,a=n+(s=o)*i)}else if(r>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/r)<s&&(l=this.ymax,a=n+(s=o)*i)}if(i>0){if(n>=this.xmax)return null;(o=(this.xmax-n)/i)<s&&(a=this.xmax,l=t+(s=o)*r)}else if(i<0){if(n<=this.xmin)return null;(o=(this.xmin-n)/i)<s&&(a=this.xmin,l=t+(s=o)*r)}return[a,l]}_edgecode(n,t){return(n===this.xmin?1:n===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(n,t){return(n<this.xmin?1:n>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const Ur=2*Math.PI,ye=Math.pow;function Jr(e){return e[0]}function Qr(e){return e[1]}function es(e){const{triangles:n,coords:t}=e;for(let i=0;i<n.length;i+=3){const r=2*n[i],s=2*n[i+1],o=2*n[i+2];if((t[o]-t[r])*(t[s+1]-t[r+1])-(t[s]-t[r])*(t[o+1]-t[r+1])>1e-10)return!1}return!0}function ns(e,n,t){return[e+Math.sin(e+n)*t,n+Math.cos(e-n)*t]}class lt{static from(n,t=Jr,i=Qr,r){return new lt("length"in n?ts(n,t,i,r):Float64Array.from(is(n,t,i,r)))}constructor(n){this._delaunator=new nn(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,t=this.points;if(n.hull&&n.hull.length>2&&es(n)){this.collinear=Int32Array.from({length:t.length/2},(c,f)=>f).sort((c,f)=>t[2*c]-t[2*f]||t[2*c+1]-t[2*f+1]);const l=this.collinear[0],h=this.collinear[this.collinear.length-1],d=[t[2*l],t[2*l+1],t[2*h],t[2*h+1]],u=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let c=0,f=t.length/2;c<f;++c){const b=ns(t[2*c],t[2*c+1],u);t[2*c]=b[0],t[2*c+1]=b[1]}this._delaunator=new nn(t)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,h=i.length;l<h;++l){const d=s[l%3===2?l-2:l+1];(i[l]===-1||o[d]===-1)&&(o[d]=l)}for(let l=0,h=r.length;l<h;++l)a[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,r.length===2&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(n){return new Yr(this,n)}*neighbors(n){const{inedges:t,hull:i,_hullIndex:r,halfedges:s,triangles:o,collinear:a}=this;if(a){const u=a.indexOf(n);u>0&&(yield a[u-1]),u<a.length-1&&(yield a[u+1]);return}const l=t[n];if(l===-1)return;let h=l,d=-1;do{if(yield d=o[h],h=h%3===2?h-2:h+1,o[h]!==n)return;if(h=s[h],h===-1){const u=i[(r[n]+1)%i.length];u!==d&&(yield u);return}}while(h!==l)}find(n,t,i=0){if(n=+n,n!==n||(t=+t,t!==t))return-1;const r=i;let s;for(;(s=this._step(i,n,t))>=0&&s!==i&&s!==r;)i=s;return s}_step(n,t,i){const{inedges:r,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:h}=this;if(r[n]===-1||!h.length)return(n+1)%(h.length>>1);let d=n,u=ye(t-h[n*2],2)+ye(i-h[n*2+1],2);const c=r[n];let f=c;do{let b=l[f];const m=ye(t-h[b*2],2)+ye(i-h[b*2+1],2);if(m<u&&(u=m,d=b),f=f%3===2?f-2:f+1,l[f]!==n)break;if(f=a[f],f===-1){if(f=s[(o[n]+1)%s.length],f!==b&&ye(t-h[f*2],2)+ye(i-h[f*2+1],2)<u)return f;break}}while(f!==c);return d}render(n){const t=n==null?n=new ge:void 0,{points:i,halfedges:r,triangles:s}=this;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l<o)continue;const h=s[o]*2,d=s[l]*2;n.moveTo(i[h],i[h+1]),n.lineTo(i[d],i[d+1])}return this.renderHull(n),t&&t.value()}renderPoints(n,t){t===void 0&&(!n||typeof n.moveTo!="function")&&(t=n,n=null),t=t==null?2:+t;const i=n==null?n=new ge:void 0,{points:r}=this;for(let s=0,o=r.length;s<o;s+=2){const a=r[s],l=r[s+1];n.moveTo(a+t,l),n.arc(a,l,t,0,Ur)}return i&&i.value()}renderHull(n){const t=n==null?n=new ge:void 0,{hull:i,points:r}=this,s=i[0]*2,o=i.length;n.moveTo(r[s],r[s+1]);for(let a=1;a<o;++a){const l=2*i[a];n.lineTo(r[l],r[l+1])}return n.closePath(),t&&t.value()}hullPolygon(){const n=new Zn;return this.renderHull(n),n.value()}renderTriangle(n,t){const i=t==null?t=new ge:void 0,{points:r,triangles:s}=this,o=s[n*=3]*2,a=s[n+1]*2,l=s[n+2]*2;return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[l],r[l+1]),t.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:n}=this;for(let t=0,i=n.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(n){const t=new Zn;return this.renderTriangle(n,t),t.value()}}function ts(e,n,t,i){const r=e.length,s=new Float64Array(r*2);for(let o=0;o<r;++o){const a=e[o];s[o*2]=n.call(i,a,o,e),s[o*2+1]=t.call(i,a,o,e)}return s}function*is(e,n,t,i){let r=0;for(const s of e)yield n.call(i,s,r,e),yield t.call(i,s,r,e),++r}function rs(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tn(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function _e(e){return e=tn(Math.abs(e)),e?e[1]:NaN}function ss(e,n){return function(t,i){for(var r=t.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}}function os(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var as=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rn(e){if(!(n=as.exec(e)))throw new Error("invalid format: "+e);var n;return new ht({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}rn.prototype=ht.prototype;function ht(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ht.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ls(e){e:for(var n=e.length,t=1,i=-1,r;t<n;++t)switch(e[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+e[t])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var zi;function hs(e,n){var t=tn(e,n);if(!t)return e+"";var i=t[0],r=t[1],s=r-(zi=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+tn(e,Math.max(0,n+s-1))[0]}function Dt(e,n){var t=tn(e,n);if(!t)return e+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Xt={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rs,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>Dt(e*100,n),r:Dt,s:hs,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ht(e){return e}var jt=Array.prototype.map,Kt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function us(e){var n=e.grouping===void 0||e.thousands===void 0?Ht:ss(jt.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Ht:os(jt.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function h(u){u=rn(u);var c=u.fill,f=u.align,b=u.sign,m=u.symbol,y=u.zero,p=u.width,v=u.comma,w=u.precision,_=u.trim,x=u.type;x==="n"?(v=!0,x="g"):Xt[x]||(w===void 0&&(w=12),_=!0,x="g"),(y||c==="0"&&f==="=")&&(y=!0,c="0",f="=");var P=m==="$"?t:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",R=m==="$"?i:/[%p]/.test(x)?o:"",I=Xt[x],B=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(g){var $=P,A=R,F,Z,K;if(x==="c")A=I(g)+A,g="";else{g=+g;var L=g<0||1/g<0;if(g=isNaN(g)?l:I(Math.abs(g),w),_&&(g=ls(g)),L&&+g==0&&b!=="+"&&(L=!1),$=(L?b==="("?b:a:b==="-"||b==="("?"":b)+$,A=(x==="s"?Kt[8+zi/3]:"")+A+(L&&b==="("?")":""),B){for(F=-1,Z=g.length;++F<Z;)if(K=g.charCodeAt(F),48>K||K>57){A=(K===46?r+g.slice(F+1):g.slice(F))+A,g=g.slice(0,F);break}}}v&&!y&&(g=n(g,1/0));var H=$.length+g.length+A.length,W=H<p?new Array(p-H+1).join(c):"";switch(v&&y&&(g=n(W+g,W.length?p-A.length:1/0),W=""),f){case"<":g=$+g+A+W;break;case"=":g=$+W+g+A;break;case"^":g=W.slice(0,H=W.length>>1)+$+g+A+W.slice(H);break;default:g=W+$+g+A;break}return s(g)}return M.toString=function(){return u+""},M}function d(u,c){var f=h((u=rn(u),u.type="f",u)),b=Math.max(-8,Math.min(8,Math.floor(_e(c)/3)))*3,m=Math.pow(10,-b),y=Kt[8+b/3];return function(p){return f(m*p)+y}}return{format:h,formatPrefix:d}}var Ge,_i,Ai;cs({thousands:",",grouping:[3],currency:["$",""]});function cs(e){return Ge=us(e),_i=Ge.format,Ai=Ge.formatPrefix,Ge}function ds(e){return Math.max(0,-_e(Math.abs(e)))}function fs(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_e(n)/3)))*3-_e(Math.abs(e)))}function gs(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,_e(n)-_e(e))+1}function ms(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function bs(e){return function(){return e}}function ps(e){return+e}var Wt=[0,1];function ke(e){return e}function Vn(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:bs(isNaN(n)?NaN:.5)}function ys(e,n){var t;return e>n&&(t=e,e=n,n=t),function(i){return Math.max(e,Math.min(n,i))}}function vs(e,n,t){var i=e[0],r=e[1],s=n[0],o=n[1];return r<i?(i=Vn(r,i),s=t(o,s)):(i=Vn(i,r),s=t(s,o)),function(a){return s(i(a))}}function ks(e,n,t){var i=Math.min(e.length,n.length)-1,r=new Array(i),s=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<i;)r[o]=Vn(e[o],e[o+1]),s[o]=t(n[o],n[o+1]);return function(a){var l=xr(e,a,1,i)-1;return s[l](r[l](a))}}function ws(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ms(){var e=Wt,n=Wt,t=ot,i,r,s,o=ke,a,l,h;function d(){var c=Math.min(e.length,n.length);return o!==ke&&(o=ys(e[0],e[c-1])),a=c>2?ks:vs,l=h=null,u}function u(c){return c==null||isNaN(c=+c)?s:(l||(l=a(e.map(i),n,t)))(i(o(c)))}return u.invert=function(c){return o(r((h||(h=a(n,e.map(i),On)))(c)))},u.domain=function(c){return arguments.length?(e=Array.from(c,ps),d()):e.slice()},u.range=function(c){return arguments.length?(n=Array.from(c),d()):n.slice()},u.rangeRound=function(c){return n=Array.from(c),t=Er,d()},u.clamp=function(c){return arguments.length?(o=c?!0:ke,d()):o!==ke},u.interpolate=function(c){return arguments.length?(t=c,d()):t},u.unknown=function(c){return arguments.length?(s=c,u):s},function(c,f){return i=c,r=f,d()}}function xs(){return Ms()(ke,ke)}function zs(e,n,t,i){var r=$r(e,n,t),s;switch(i=rn(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(n));return i.precision==null&&!isNaN(s=fs(r,o))&&(i.precision=s),Ai(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=gs(r,Math.max(Math.abs(e),Math.abs(n))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=ds(r))&&(i.precision=s-(i.type==="%")*2);break}}return _i(i)}function _s(e){var n=e.domain;return e.ticks=function(t){var i=n();return Tr(i[0],i[i.length-1],t??10)},e.tickFormat=function(t,i){var r=n();return zs(r[0],r[r.length-1],t??10,i)},e.nice=function(t){t==null&&(t=10);var i=n(),r=0,s=i.length-1,o=i[r],a=i[s],l,h,d=10;for(a<o&&(h=o,o=a,a=h,h=r,r=s,s=h);d-- >0;){if(h=Gn(o,a,t),h===l)return i[r]=o,i[s]=a,n(i);if(h>0)o=Math.floor(o/h)*h,a=Math.ceil(a/h)*h;else if(h<0)o=Math.ceil(o*h)/h,a=Math.floor(a*h)/h;else break;l=h}return e},e}function ut(){var e=xs();return e.copy=function(){return ws(e,ut())},ms.apply(e,arguments),_s(e)}const ct=new Uint8Array(256);for(let e=0;e<256;++e)ct[e]=e;Pr(ct);const ae=new Uint8Array(512);for(let e=0;e<256;++e)ae[e]=ae[e+256]=ct[e];function As(e,n){const t=Math.floor(e),i=Math.floor(n),r=t&255,s=i&255,o=Ot(e-=t),a=Ot(n-=i),l=ae[r]+s,h=ae[r+1]+s;return xn(a,xn(o,Ze(ae[l],e,n),Ze(ae[h],e-1,n)),xn(o,Ze(ae[l+1],e,n-1),Ze(ae[h+1],e-1,n-1)))}function Ts(e,n){return function(t,i,r){let s=0,o=1,a=1,l=0;for(let h=0;h<n;++h)l+=e(t*o,i*o,r*o)*a,s+=a,a*=.5,o*=2;return l/s}}function Ze(e,n,t){const i=e&1?t:n;return e&2?-i:i}function Ot(e){return e*e*e*(e*(e*6-15)+10)}function xn(e,n,t){return n+e*(t-n)}const $s=5,Ps=Ts(As,$s);function qt(e,n,t){const i=Math.round(e.r*n.r/255*t),r=Math.round(e.g*n.g/255*t),s=Math.round(e.b*n.b/255*t);return Qe(i,r,s)}function Gt(e,n,t){let i=Ps(e*t,n*t*.5),r=Math.round(Ss(i));return Qe(r,r,r)}const Ce=class{constructor(n,t,i,r,s,o){j(this,"init",()=>{for(let n=0;n<Ce.lifetime;n++)this.setColor(n);this.boundingBox=this.computeBoundingBox()});j(this,"getPos",()=>[this.x,this.y]);j(this,"computeBoundingBox",()=>{let n=1/0,t=1/0,i=-1/0,r=-1/0;for(let s=0;s<this.polygon.length;s++)n=Math.min(n,this.polygon[s][0]),t=Math.min(t,this.polygon[s][1]),i=Math.max(i,this.polygon[s][0]),r=Math.max(r,this.polygon[s][1]);return{minX:n,minY:t,maxX:i,maxY:r}});j(this,"getBoundingBox",()=>this.boundingBox);j(this,"getColor",n=>this.state.length<Ce.lifetime?(console.log("Cell is still being computed"),this.color[0]):this.isAlive(n)?this.color[this.getCurrentStateIndex(n)]:this.isDead(n)?this.color.slice(-1)[0]:this.color[0]);j(this,"setColor",n=>{let i=Cr.exponent(Ce.growthExponent)(Is(n));const r=qn(this.colorBaseComp,this.colorBactComp);this.color[n]=r(i)});j(this,"getIndex",()=>this.index);j(this,"getPrevious",n=>this.state[n-1]);j(this,"getCurrent",n=>this.state[n]);j(this,"getState",n=>this.state[n]);j(this,"getPreviousStateIndex",n=>this.state.indexOf(n-1));j(this,"getCurrentStateIndex",n=>this.state.indexOf(n));j(this,"setCurrent",(n,t)=>{this.state[n]=t});j(this,"isAlive",n=>this.state.includes(n));j(this,"isDead",n=>this.state.length===0?!1:!this.isAlive(n)&&n>this.state.slice(-1)[0]);this.x=n,this.y=t,this.index=i,this.polygon=r,this.neighbors=s,this.medium=o,this.state=[],this.color=[],this.noiseBaseScale=.001,this.noiseBactScale=.008,this.noiseBaseFactor=.5,this.noiseBactFactor=.9,this.noiseBase=Gt(this.x,this.y,this.noiseBaseScale),this.noiseBact=Gt(this.x,this.y,this.noiseBactScale),this.colorBase=Qe(105,105,105),this.colorBact=Qe(o),this.colorBaseComp=qt(this.colorBase,this.noiseBase,this.noiseBaseFactor),this.colorBactComp=qt(this.colorBact,this.noiseBact,this.noiseBactFactor),this.boundingBox=null,this.init()}};let le=Ce;j(le,"r",1),j(le,"lifetime",24),j(le,"growthExponent",4),j(le,"threshold",2);var Is=ut().domain([0,le.lifetime]).range([0,1]),Ss=ut().domain([-1,1]).range([0,255]);function*Rs(e,n,t,i,r){const o=t-e,a=i-n,l=r*r,h=3*l,d=r*Math.SQRT1_2,u=Math.ceil(o/d),c=Math.ceil(a/d),f=new Array(u*c),b=[];yield y(o/2+Math.random()*r,a/2+Math.random()*r);e:for(;b.length;){const p=Math.random()*b.length|0,v=b[p];for(let _=0;_<30;++_){const x=2*Math.PI*Math.random(),P=Math.sqrt(Math.random()*h+l),R=v[0]+P*Math.cos(x),I=v[1]+P*Math.sin(x);if(0<=R&&R<o&&0<=I&&I<a&&m(R,I)){yield y(R,I);continue e}}const w=b.pop();p<b.length&&(b[p]=w)}function m(p,v){const w=p/d|0,_=v/d|0,x=Math.max(w-2,0),P=Math.max(_-2,0),R=Math.min(w+3,u),I=Math.min(_+3,c);for(let B=P;B<I;++B){const M=B*u;for(let g=x;g<R;++g){const $=f[M+g];if($){const A=$[0]-p,F=$[1]-v;if(A*A+F*F<l)return!1}}}return!0}function y(p,v,w){return b.push(f[u*(v/d|0)+(p/d|0)]=[p,v]),[p+e,v+n]}}function Ls(){return new Worker(""+new URL("../../workers/my-worker.worker-f02647dc.js",import.meta.url).href)}var Zt=(e,n)=>{let[t,i,r]=e,s=.5,o=.5,a=Math.atan2(i-o,t-s)*(180/Math.PI);a=(360+a)%360;let l=r,h=Math.sqrt(Math.pow(i-o,2)+Math.pow(t-s,2))/s;return[a,l,n?1-h:h]},zn=(e,n)=>{let[t,i,r]=e,s=.5,o=.5,a=t/(180/Math.PI),l=(n?1-r:r)*s,h=s+l*Math.cos(a),d=o+l*Math.sin(a);return[h,d,i]},Vt=(e=Math.random()*360,n=[Math.random(),Math.random()],t=[.75+Math.random()*.2,.3+Math.random()*.2])=>[[e,n[0],t[0]],[(e+60+Math.random()*180)%360,n[1],t[1]]],Bs=(e,n,t,i=!1,r=(a,l)=>l?1-a:a,s=(a,l)=>l?1-a:a,o=(a,l)=>l?1-a:a)=>{let a=r(e,i),l=s(e,i),h=o(e,i),d=(1-a)*n[0]+a*t[0],u=(1-l)*n[1]+l*t[1],c=(1-h)*n[2]+h*t[2];return[d,u,c]},Fs=(e,n,t=4,i=!1,r=(a,l)=>l?1-a:a,s=(a,l)=>l?1-a:a,o=(a,l)=>l?1-a:a)=>{let a=[];for(let l=0;l<t;l++){let[h,d,u]=Bs(l/(t-1),e,n,i,r,s,o);a.push([h,d,u])}return a},re=(e,n=!1)=>n?1-Math.sin((1-e)*Math.PI/2):Math.sin(e*Math.PI/2),Yt=(e,n,t=!1)=>{let i=e[0],r=n[0],s=0;t&&i!==null&&r!==null?(s=Math.min(Math.abs(i-r),360-Math.abs(i-r)),s=s/360):s=i===null||r===null?0:i-r;let o=s,a=e[1]===null||n[1]===null?0:n[1]-e[1],l=e[2]===null||n[2]===null?0:n[2]-e[2];return Math.sqrt(o*o+a*a+l*l)},_n=class{constructor({xyz:e,color:n,invertedLightness:t}={}){this.x=0,this.y=0,this.z=0,this.color=[0,0,0],this._invertedLightness=!1,this._invertedLightness=t||!1,this.positionOrColor({xyz:e,color:n,invertedLightness:t})}positionOrColor({xyz:e,color:n,invertedLightness:t}){if(e&&n)throw new Error("Point must be initialized with either x,y,z or hsl");e?(this.x=e[0],this.y=e[1],this.z=e[2],this.color=Zt([this.x,this.y,this.z],t||!1)):n&&(this.color=n,[this.x,this.y,this.z]=zn(n,t||!1))}set position([e,n,t]){this.x=e,this.y=n,this.z=t,this.color=Zt([this.x,this.y,this.z],this._invertedLightness)}get position(){return[this.x,this.y,this.z]}set hsl([e,n,t]){this.color=[e,n,t],[this.x,this.y,this.z]=zn(this.color,this._invertedLightness)}get hsl(){return this.color}get hslCSS(){let[e,n,t]=this.color;return`hsl(${e.toFixed(2)}, ${(n*100).toFixed(2)}%, ${(t*100).toFixed(2)}%)`}get oklchCSS(){let[e,n,t]=this.color;return`oklch(${(t*100).toFixed(2)}% ${(n*.4).toFixed(3)} ${e.toFixed(2)})`}get lchCSS(){let[e,n,t]=this.color;return`lch(${(t*100).toFixed(2)}% ${(n*150).toFixed(2)} ${e.toFixed(2)})`}shiftHue(e){this.color[0]=(360+(this.color[0]+e))%360,[this.x,this.y,this.z]=zn(this.color,this._invertedLightness)}},dt=class{constructor({anchorColors:e=Vt(),numPoints:n=4,positionFunction:t=re,positionFunctionX:i,positionFunctionY:r,positionFunctionZ:s,closedLoop:o,invertedLightness:a}={anchorColors:Vt(),numPoints:4,positionFunction:re,closedLoop:!1}){if(this._needsUpdate=!0,this._positionFunctionX=re,this._positionFunctionY=re,this._positionFunctionZ=re,this.connectLastAndFirstAnchor=!1,this._animationFrame=null,this._invertedLightness=!1,!e||e.length<2)throw new Error("Must have at least two anchor colors");this._anchorPoints=e.map(l=>new _n({color:l,invertedLightness:a})),this._numPoints=n+2,this._positionFunctionX=i||t||re,this._positionFunctionY=r||t||re,this._positionFunctionZ=s||t||re,this.connectLastAndFirstAnchor=o||!1,this._invertedLightness=a||!1,this.updateAnchorPairs()}get numPoints(){return this._numPoints-2}set numPoints(e){if(e<1)throw new Error("Must have at least one point");this._numPoints=e+2,this.updateAnchorPairs()}set positionFunction(e){if(Array.isArray(e)){if(e.length!==3)throw new Error("Position function array must have 3 elements");if(typeof e[0]!="function"||typeof e[1]!="function"||typeof e[2]!="function")throw new Error("Position function array must have 3 functions");this._positionFunctionX=e[0],this._positionFunctionY=e[1],this._positionFunctionZ=e[2]}else this._positionFunctionX=e,this._positionFunctionY=e,this._positionFunctionZ=e;this.updateAnchorPairs()}get positionFunction(){return this._positionFunctionX===this._positionFunctionY&&this._positionFunctionX===this._positionFunctionZ?this._positionFunctionX:[this._positionFunctionX,this._positionFunctionY,this._positionFunctionZ]}set positionFunctionX(e){this._positionFunctionX=e,this.updateAnchorPairs()}get positionFunctionX(){return this._positionFunctionX}set positionFunctionY(e){this._positionFunctionY=e,this.updateAnchorPairs()}get positionFunctionY(){return this._positionFunctionY}set positionFunctionZ(e){this._positionFunctionZ=e,this.updateAnchorPairs()}get positionFunctionZ(){return this._positionFunctionZ}get anchorPoints(){return this._anchorPoints}set anchorPoints(e){this._anchorPoints=e,this.updateAnchorPairs()}updateAnchorPairs(){this._anchorPairs=[];let e=this.connectLastAndFirstAnchor?this.anchorPoints.length:this.anchorPoints.length-1;for(let n=0;n<e;n++){let t=[this.anchorPoints[n],this.anchorPoints[(n+1)%this.anchorPoints.length]];this._anchorPairs.push(t)}this.points=this._anchorPairs.map((n,t)=>{let i=n[0]?n[0].position:[0,0,0],r=n[1]?n[1].position:[0,0,0];return Fs(i,r,this._numPoints,!!(t%2),this.positionFunctionX,this.positionFunctionY,this.positionFunctionZ).map(s=>new _n({xyz:s,invertedLightness:this._invertedLightness}))})}addAnchorPoint({xyz:e,color:n,insertAtIndex:t}){let i=new _n({xyz:e,color:n,invertedLightness:this._invertedLightness});return t?this.anchorPoints.splice(t,0,i):this.anchorPoints.push(i),this.updateAnchorPairs(),i}removeAnchorPoint({point:e,index:n}){if(!e&&n===void 0)throw new Error("Must provide a point or index");let t;if(n!==void 0?t=n:e&&(t=this.anchorPoints.indexOf(e)),t>-1&&t<this.anchorPoints.length)this.anchorPoints.splice(t,1),this.updateAnchorPairs();else throw new Error("Point not found")}updateAnchorPoint({point:e,pointIndex:n,xyz:t,color:i}){if(n&&(e=this.anchorPoints[n]),!e)throw new Error("Must provide a point or pointIndex");if(!t&&!i)throw new Error("Must provide a new xyz position or color");return t&&(e.position=t),i&&(e.hsl=i),this.updateAnchorPairs(),e}getClosestAnchorPoint({xyz:e,hsl:n,maxDistance:t=1}){if(!e&&!n)throw new Error("Must provide a xyz or hsl");let i;e?i=this.anchorPoints.map(o=>Yt(o.position,e)):n&&(i=this.anchorPoints.map(o=>Yt(o.hsl,n,!0)));let r=Math.min(...i);if(r>t)return null;let s=i.indexOf(r);return this.anchorPoints[s]||null}set closedLoop(e){this.connectLastAndFirstAnchor=e,this.updateAnchorPairs()}get closedLoop(){return this.connectLastAndFirstAnchor}set invertedLightness(e){this._invertedLightness=e,this.updateAnchorPairs()}get invertedLightness(){return this._invertedLightness}get flattenedPoints(){return this.points.flat().filter((e,n)=>n!=0?n%this._numPoints:!0)}get colors(){let e=this.flattenedPoints.map(n=>n.color);return this.connectLastAndFirstAnchor&&e.pop(),e}cssColors(e="hsl"){let n={hsl:i=>i.hslCSS,oklch:i=>i.oklchCSS,lch:i=>i.lchCSS},t=this.flattenedPoints.map(n[e]);return this.connectLastAndFirstAnchor&&t.pop(),t}get colorsCSS(){return this.cssColors("hsl")}get colorsCSSlch(){return this.cssColors("lch")}get colorsCSSoklch(){return this.cssColors("oklch")}shiftHue(e=20){this.anchorPoints.forEach(n=>n.shiftHue(e)),this.updateAnchorPairs()}},{p5:Be}=globalThis;if(Be){console.info("p5 detected, adding poline to p5 prototype");let e=new dt;Be.prototype.poline=e;let n=()=>e.colors.map(t=>`hsl(${Math.round(t[0])},${t[1]*100}%,${t[2]*100}%)`);Be.prototype.polineColors=n,Be.prototype.registerMethod("polineColors",Be.prototype.polineColors),globalThis.poline=e,globalThis.polineColors=n}const Es=(e,n)=>{if(typeof e=="number"){if(n===3)return{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|e&240)/255,b:(e&15|e<<4&240)/255};if(n===4)return{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|e&240)/255,alpha:(e&15|e<<4&240)/255};if(n===6)return{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(e&255)/255};if(n===8)return{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(e&255)/255}}},Ti=Es,Cs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ns=Cs,Ds=e=>Ti(Ns[e.toLowerCase()],6),Xs=Ds,Hs=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,js=e=>{let n;return(n=e.match(Hs))?Ti(parseInt(n[1],16),n[1].length):void 0},Ks=js,ue="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",Ee=`${ue}%`,ft=`(?:${ue}%|${ue})`,Ws=`(?:${ue}(deg|grad|rad|turn)|${ue})`,Ae="\\s*,\\s*",Os=new RegExp(`^rgba?\\(\\s*${ue}${Ae}${ue}${Ae}${ue}\\s*(?:,\\s*${ft}\\s*)?\\)$`),qs=new RegExp(`^rgba?\\(\\s*${Ee}${Ae}${Ee}${Ae}${Ee}\\s*(?:,\\s*${ft}\\s*)?\\)$`),Gs=e=>{let n={mode:"rgb"},t;if(t=e.match(Os))t[1]!==void 0&&(n.r=t[1]/255),t[2]!==void 0&&(n.g=t[2]/255),t[3]!==void 0&&(n.b=t[3]/255);else if(t=e.match(qs))t[1]!==void 0&&(n.r=t[1]/100),t[2]!==void 0&&(n.g=t[2]/100),t[3]!==void 0&&(n.b=t[3]/100);else return;return t[4]!==void 0?n.alpha=t[4]/100:t[5]!==void 0&&(n.alpha=+t[5]),n},Zs=Gs,Vs=(e,n)=>e===void 0?void 0:typeof e!="object"?lo(e):e.mode!==void 0?e:n?{...e,mode:n}:void 0,Ys=Vs,Us=(e="rgb")=>n=>(n=Ys(n,e))!==void 0?n.mode===e?n:Q[n.mode][e]?Q[n.mode][e](n):e==="rgb"?Q[n.mode].rgb(n):Q.rgb[e](Q[n.mode].rgb(n)):void 0,$i=Us,Q={},Pi={},sn=[],Ii={},Js=e=>e,X=e=>(Q[e.mode]={...Q[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach(n=>{Q[n]||(Q[n]={}),Q[n][e.mode]=e.fromMode[n]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(n=>{if(e.ranges[n]===void 0&&(e.ranges[n]=[0,1]),!e.interpolate[n])throw new Error(`Missing interpolator for: ${n}`);typeof e.interpolate[n]=="function"&&(e.interpolate[n]={use:e.interpolate[n]}),e.interpolate[n].fixup||(e.interpolate[n].fixup=Js)}),Pi[e.mode]=e,(e.parse||[]).forEach(n=>{eo(n,e.mode)}),$i(e.mode)),Qs=e=>Pi[e],eo=(e,n)=>{if(typeof e=="string"){if(!n)throw new Error("'mode' required when 'parser' is a string");Ii[e]=n}else typeof e=="function"&&sn.indexOf(e)<0&&sn.push(e)},Yn=/[^\x00-\x7F]|[a-zA-Z_]/,no=/[^\x00-\x7F]|[-\w]/,k={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let S=0;function Ve(e){let n=e[S],t=e[S+1];return n==="-"||n==="+"?/\d/.test(t)||t==="."&&/\d/.test(e[S+2]):n==="."?/\d/.test(t):/\d/.test(n)}function Un(e){if(S>=e.length)return!1;let n=e[S];if(Yn.test(n))return!0;if(n==="-"){if(e.length-S<2)return!1;let t=e[S+1];return!!(t==="-"||Yn.test(t))}return!1}const to={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function Fe(e){let n="";if((e[S]==="-"||e[S]==="+")&&(n+=e[S++]),n+=Ye(e),e[S]==="."&&/\d/.test(e[S+1])&&(n+=e[S++]+Ye(e)),(e[S]==="e"||e[S]==="E")&&((e[S+1]==="-"||e[S+1]==="+")&&/\d/.test(e[S+2])?n+=e[S++]+e[S++]+Ye(e):/\d/.test(e[S+1])&&(n+=e[S++]+Ye(e))),Un(e)){let t=on(e);return t==="deg"||t==="rad"||t==="turn"||t==="grad"?{type:k.Hue,value:n*to[t]}:void 0}return e[S]==="%"?(S++,{type:k.Percentage,value:+n}):{type:k.Number,value:+n}}function Ye(e){let n="";for(;/\d/.test(e[S]);)n+=e[S++];return n}function on(e){let n="";for(;S<e.length&&no.test(e[S]);)n+=e[S++];return n}function io(e){let n=on(e);return e[S]==="("?(S++,{type:k.Function,value:n}):n==="none"?{type:k.None,value:void 0}:{type:k.Ident,value:n}}function ro(e=""){let n=e.trim(),t=[],i;for(S=0;S<n.length;){if(i=n[S++],i===`
`||i==="	"||i===" "){for(;S<n.length&&(n[S]===`
`||n[S]==="	"||n[S]===" ");)S++;continue}if(i===",")return;if(i===")"){t.push({type:k.ParenClose});continue}if(i==="+"){if(S--,Ve(n)){t.push(Fe(n));continue}return}if(i==="-"){if(S--,Ve(n)){t.push(Fe(n));continue}if(Un(n)){t.push({type:k.Ident,value:on(n)});continue}return}if(i==="."){if(S--,Ve(n)){t.push(Fe(n));continue}return}if(i==="/"){for(;S<n.length&&(n[S]===`
`||n[S]==="	"||n[S]===" ");)S++;let r;if(Ve(n)&&(r=Fe(n),r.type!==k.Hue)){t.push({type:k.Alpha,value:r});continue}if(Un(n)&&on(n)==="none"){t.push({type:k.Alpha,value:{type:k.None,value:void 0}});continue}return}if(/\d/.test(i)){S--,t.push(Fe(n));continue}if(Yn.test(i)){S--,t.push(io(n));continue}return}return t}function so(e){e._i=0;let n=e[e._i++];if(!n||n.type!==k.Function||n.value!=="color"||(n=e[e._i++],n.type!==k.Ident))return;const t=Ii[n.value];if(!t)return;const i={mode:t},r=Si(e,!1);if(!r)return;const s=Qs(t).channels;for(let o=0,a;o<s.length;o++)a=r[o],a.type!==k.None&&(i[s[o]]=a.type===k.Number?a.value:a.value/100);return i}function Si(e,n){const t=[];let i;for(;e._i<e.length;){if(i=e[e._i++],i.type===k.None||i.type===k.Number||i.type===k.Alpha||i.type===k.Percentage||n&&i.type===k.Hue){t.push(i);continue}if(i.type===k.ParenClose){if(e._i<e.length)return;continue}return}if(!(t.length<3||t.length>4)){if(t.length===4){if(t[3].type!==k.Alpha)return;t[3]=t[3].value}return t.length===3&&t.push({type:k.None,value:void 0}),t.every(r=>r.type!==k.Alpha)?t:void 0}}function oo(e,n){e._i=0;let t=e[e._i++];if(!t||t.type!==k.Function)return;let i=Si(e,n);if(i)return i.unshift(t.value),i}const ao=e=>{if(typeof e!="string")return;const n=ro(e),t=n?oo(n,!0):void 0;let i,r=0,s=sn.length;for(;r<s;)if((i=sn[r++](e,t))!==void 0)return i;return n?so(n):void 0},lo=ao;function ho(e,n){if(!n||n[0]!=="rgb"&&n[0]!=="rgba")return;const t={mode:"rgb"},[,i,r,s,o]=n;if(!(i.type===k.Hue||r.type===k.Hue||s.type===k.Hue))return i.type!==k.None&&(t.r=i.type===k.Number?i.value/255:i.value/100),r.type!==k.None&&(t.g=r.type===k.Number?r.value/255:r.value/100),s.type!==k.None&&(t.b=s.type===k.Number?s.value/255:s.value/100),o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const uo=e=>e==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,co=uo,fo=(e,n,t)=>e+t*(n-e),go=e=>{let n=[];for(let t=0;t<e.length-1;t++){let i=e[t],r=e[t+1];i===void 0&&r===void 0?n.push(void 0):i!==void 0&&r!==void 0?n.push([i,r]):n.push(i!==void 0?[i,i]:[r,r])}return n},mo=e=>n=>{let t=go(n);return i=>{let r=i*t.length,s=i>=1?t.length-1:Math.max(Math.floor(r),0),o=t[s];return o===void 0?void 0:e(o[0],o[1],r-s)}},z=mo(fo),G=e=>{let n=!1,t=e.map(i=>i!==void 0?(n=!0,i):1);return n?t:e},bo={mode:"rgb",channels:["r","g","b","alpha"],parse:[ho,Ks,Zs,Xs,co,"srgb"],serialize:"srgb",interpolate:{r:z,g:z,b:z,alpha:{use:z,fixup:G}},gamut:!0},Te=bo,An=e=>Math.pow(Math.abs(e),563/256)*Math.sign(e),po=e=>{let n=An(e.r),t=An(e.g),i=An(e.b),r={mode:"xyz65",x:.5766690429101305*n+.1855582379065463*t+.1882286462349947*i,y:.297344975250536*n+.6273635662554661*t+.0752914584939979*i,z:.0270313613864123*n+.0706888525358272*t+.9913375368376386*i};return e.alpha!==void 0&&(r.alpha=e.alpha),r},Ut=po,Tn=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),yo=({x:e,y:n,z:t,alpha:i})=>{let r={mode:"a98",r:Tn(e*2.0415879038107465-n*.5650069742788597-.3447313507783297*t),g:Tn(e*-.9692436362808798+n*1.8759675015077206+.0415550574071756*t),b:Tn(e*.0134442806320312-n*.1183623922310184+1.0151749943912058*t)};return i!==void 0&&(r.alpha=i),r},Jt=yo,$n=e=>{const n=Math.abs(e);return n<.04045?e/12.92:(Math.sign(e)||1)*Math.pow((n+.055)/1.055,2.4)},vo=({r:e,g:n,b:t,alpha:i})=>{let r={mode:"lrgb",r:$n(e),g:$n(n),b:$n(t)};return i!==void 0&&(r.alpha=i),r},$e=vo,ko=e=>{let{r:n,g:t,b:i,alpha:r}=$e(e),s={mode:"xyz65",x:.4123907992659593*n+.357584339383878*t+.1804807884018343*i,y:.2126390058715102*n+.715168678767756*t+.0721923153607337*i,z:.0193308187155918*n+.119194779794626*t+.9505321522496607*i};return r!==void 0&&(s.alpha=r),s},Pe=ko,Pn=e=>{const n=Math.abs(e);return n>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(n,1/2.4)-.055):e*12.92},wo=({r:e,g:n,b:t,alpha:i},r="rgb")=>{let s={mode:r,r:Pn(e),g:Pn(n),b:Pn(t)};return i!==void 0&&(s.alpha=i),s},Ie=wo,Mo=({x:e,y:n,z:t,alpha:i})=>{let r=Ie({r:e*3.2409699419045226-n*1.537383177570094-.4986107602930034*t,g:e*-.9692436362808796+n*1.8759675015077204+.0415550574071756*t,b:e*.0556300796969936-n*.2039769588889765+1.0569715142428784*t});return i!==void 0&&(r.alpha=i),r},Se=Mo,xo={...Te,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>Jt(Pe(e)),xyz65:Jt},toMode:{rgb:e=>Se(Ut(e)),xyz65:Ut}},zo=xo,_o=e=>(e=e%360)<0?e+360:e,V=_o,Ao=(e,n)=>e.map((t,i,r)=>{if(t===void 0)return t;let s=V(t);return i===0||e[i-1]===void 0?s:n(s-V(r[i-1]))}).reduce((t,i)=>!t.length||i===void 0||t[t.length-1]===void 0?(t.push(i),t):(t.push(i+t[t.length-1]),t),[]),ne=e=>Ao(e,n=>Math.abs(n)<=180?n:n-360*Math.sign(n)),q=[-.14861,1.78277,-.29227,-.90649,1.97294,0],To=Math.PI/180,$o=180/Math.PI;let Qt=q[3]*q[4],ei=q[1]*q[4],ni=q[1]*q[2]-q[0]*q[3];const Po=({r:e,g:n,b:t,alpha:i})=>{let r=(ni*t+e*Qt-n*ei)/(ni+Qt-ei),s=t-r,o=(q[4]*(n-r)-q[2]*s)/q[3],a={mode:"cubehelix",l:r,s:r===0||r===1?void 0:Math.sqrt(s*s+o*o)/(q[4]*r*(1-r))};return a.s&&(a.h=Math.atan2(o,s)*$o-120),i!==void 0&&(a.alpha=i),a},Io=Po,So=({h:e,s:n,l:t,alpha:i})=>{let r={mode:"rgb"};e=(e===void 0?0:e+120)*To;let s=n===void 0?0:n*t*(1-t),o=Math.cos(e),a=Math.sin(e);return r.r=t+s*(q[0]*o+q[1]*a),r.g=t+s*(q[2]*o+q[3]*a),r.b=t+s*(q[4]*o+q[5]*a),i!==void 0&&(r.alpha=i),r},Ro=So,cn=(e,n)=>{if(e.h===void 0||n.h===void 0||!e.s||!n.s)return 0;let t=V(e.h),i=V(n.h),r=Math.sin((i-t+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*n.s)*r},Lo=(e,n)=>{if(e.h===void 0||n.h===void 0)return 0;let t=V(e.h),i=V(n.h);return Math.abs(i-t)>180?t-(i-360*Math.sign(i-t)):i-t},dn=(e,n)=>{if(e.h===void 0||n.h===void 0||!e.c||!n.c)return 0;let t=V(e.h),i=V(n.h),r=Math.sin((i-t+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*n.c)*r},te=e=>{let n=e.reduce((t,i)=>{if(i!==void 0){let r=i*Math.PI/180;t.sin+=Math.sin(r),t.cos+=Math.cos(r)}return t},{sin:0,cos:0});return Math.atan2(n.sin,n.cos)*180/Math.PI},Bo={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:Io},toMode:{rgb:Ro},interpolate:{h:{use:z,fixup:ne},s:z,l:z,alpha:{use:z,fixup:G}},difference:{h:cn},average:{h:te}},Fo=Bo,Eo=({l:e,a:n,b:t,alpha:i},r="lch")=>{let s=Math.sqrt(n*n+t*t),o={mode:r,l:e,c:s};return s&&(o.h=V(Math.atan2(t,n)*180/Math.PI)),i!==void 0&&(o.alpha=i),o},ce=Eo,Co=({l:e,c:n,h:t,alpha:i},r="lab")=>{let s={mode:r,l:e,a:n?n*Math.cos(t/180*Math.PI):0,b:n?n*Math.sin(t/180*Math.PI):0};return i!==void 0&&(s.alpha=i),s},de=Co,Ri=Math.pow(29,3)/Math.pow(3,3),Li=Math.pow(6,3)/Math.pow(29,3),O={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},ze={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let In=e=>Math.pow(e,3)>Li?Math.pow(e,3):(116*e-16)/Ri;const No=({l:e,a:n,b:t,alpha:i})=>{let r=(e+16)/116,s=n/500+r,o=r-t/200,a={mode:"xyz65",x:In(s)*ze.X,y:In(r)*ze.Y,z:In(o)*ze.Z};return i!==void 0&&(a.alpha=i),a},Bi=No,Do=e=>Se(Bi(e)),fn=Do,Sn=e=>e>Li?Math.cbrt(e):(Ri*e+16)/116,Xo=({x:e,y:n,z:t,alpha:i})=>{let r=Sn(e/ze.X),s=Sn(n/ze.Y),o=Sn(t/ze.Z),a={mode:"lab65",l:116*s-16,a:500*(r-s),b:200*(s-o)};return i!==void 0&&(a.alpha=i),a},Fi=Xo,Ho=e=>{let n=Fi(Pe(e));return e.r===e.b&&e.b===e.g&&(n.a=n.b=0),n},gn=Ho,an=1,Ei=1,Xe=26/180*Math.PI,ln=Math.cos(Xe),hn=Math.sin(Xe),Ci=100/Math.log(139/100),jo=({l:e,c:n,h:t,alpha:i})=>{let r={mode:"lab65",l:(Math.exp(e*an/Ci)-1)/.0039};if(t===void 0)r.a=r.b=0;else{let s=(Math.exp(.0435*n*Ei*an)-1)/.075,o=s*Math.cos(t/180*Math.PI-Xe),a=s*Math.sin(t/180*Math.PI-Xe);r.a=o*ln-a/.83*hn,r.b=o*hn+a/.83*ln}return i!==void 0&&(r.alpha=i),r},Jn=jo,Ko=({l:e,a:n,b:t,alpha:i})=>{let r=n*ln+t*hn,s=.83*(t*ln-n*hn),o=Math.sqrt(r*r+s*s),a={mode:"dlch",l:Ci/an*Math.log(1+.0039*e),c:Math.log(1+.075*o)/(.0435*Ei*an)};return a.c&&(a.h=V((Math.atan2(s,r)+Xe)/Math.PI*180)),i!==void 0&&(a.alpha=i),a},Qn=Ko,ti=e=>Jn(ce(e,"dlch")),ii=e=>de(Qn(e),"dlab"),Wo={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:ti,rgb:e=>fn(ti(e))},fromMode:{lab65:ii,rgb:e=>ii(gn(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:z,a:z,b:z,alpha:{use:z,fixup:G}}},Oo=Wo,qo={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Jn,dlab:e=>de(e,"dlab"),rgb:e=>fn(Jn(e))},fromMode:{lab65:Qn,dlab:e=>ce(e,"dlch"),rgb:e=>Qn(gn(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:z,c:z,h:{use:z,fixup:ne},alpha:{use:z,fixup:G}},difference:{h:dn},average:{h:te}},Go=qo;function Zo({h:e,s:n,i:t,alpha:i}){e=V(e);let r=Math.abs(e/60%2-1),s;switch(Math.floor(e/60)){case 0:s={r:t*(1+n*(3/(2-r)-1)),g:t*(1+n*(3*(1-r)/(2-r)-1)),b:t*(1-n)};break;case 1:s={r:t*(1+n*(3*(1-r)/(2-r)-1)),g:t*(1+n*(3/(2-r)-1)),b:t*(1-n)};break;case 2:s={r:t*(1-n),g:t*(1+n*(3/(2-r)-1)),b:t*(1+n*(3*(1-r)/(2-r)-1))};break;case 3:s={r:t*(1-n),g:t*(1+n*(3*(1-r)/(2-r)-1)),b:t*(1+n*(3/(2-r)-1))};break;case 4:s={r:t*(1+n*(3*(1-r)/(2-r)-1)),g:t*(1-n),b:t*(1+n*(3/(2-r)-1))};break;case 5:s={r:t*(1+n*(3/(2-r)-1)),g:t*(1-n),b:t*(1+n*(3*(1-r)/(2-r)-1))};break;default:s={r:t*(1-n),g:t*(1-n),b:t*(1-n)}}return s.mode="rgb",i!==void 0&&(s.alpha=i),s}function Vo({r:e,g:n,b:t,alpha:i}){let r=Math.max(e,n,t),s=Math.min(e,n,t),o={mode:"hsi",s:e+n+t===0?0:1-3*s/(e+n+t),i:(e+n+t)/3};return r-s!==0&&(o.h=(r===e?(n-t)/(r-s)+(n<t)*6:r===n?(t-e)/(r-s)+2:(e-n)/(r-s)+4)*60),i!==void 0&&(o.alpha=i),o}const Yo={mode:"hsi",toMode:{rgb:Zo},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:Vo},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:z,fixup:ne},s:z,i:z,alpha:{use:z,fixup:G}},difference:{h:cn},average:{h:te}},Uo=Yo;function Jo({h:e,s:n,l:t,alpha:i}){e=V(e);let r=t+n*(t<.5?t:1-t),s=r-(r-t)*2*Math.abs(e/60%2-1),o;switch(Math.floor(e/60)){case 0:o={r,g:s,b:2*t-r};break;case 1:o={r:s,g:r,b:2*t-r};break;case 2:o={r:2*t-r,g:r,b:s};break;case 3:o={r:2*t-r,g:s,b:r};break;case 4:o={r:s,g:2*t-r,b:r};break;case 5:o={r,g:2*t-r,b:s};break;default:o={r:2*t-r,g:2*t-r,b:2*t-r}}return o.mode="rgb",i!==void 0&&(o.alpha=i),o}function Qo({r:e,g:n,b:t,alpha:i}){let r=Math.max(e,n,t),s=Math.min(e,n,t),o={mode:"hsl",s:r===s?0:(r-s)/(1-Math.abs(r+s-1)),l:.5*(r+s)};return r-s!==0&&(o.h=(r===e?(n-t)/(r-s)+(n<t)*6:r===n?(t-e)/(r-s)+2:(e-n)/(r-s)+4)*60),i!==void 0&&(o.alpha=i),o}const ea=(e,n)=>{switch(n){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return e*360}},na=ea,ta=new RegExp(`^hsla?\\(\\s*${Ws}${Ae}${Ee}${Ae}${Ee}\\s*(?:,\\s*${ft}\\s*)?\\)$`),ia=e=>{let n=e.match(ta);if(!n)return;let t={mode:"hsl"};return n[3]!==void 0?t.h=+n[3]:n[1]!==void 0&&n[2]!==void 0&&(t.h=na(n[1],n[2])),n[4]!==void 0&&(t.s=Math.min(Math.max(0,n[4]/100),1)),n[5]!==void 0&&(t.l=Math.min(Math.max(0,n[5]/100),1)),n[6]!==void 0?t.alpha=n[6]/100:n[7]!==void 0&&(t.alpha=+n[7]),t},ra=ia;function sa(e,n){if(!n||n[0]!=="hsl"&&n[0]!=="hsla")return;const t={mode:"hsl"},[,i,r,s,o]=n;if(i.type!==k.None){if(i.type===k.Percentage)return;t.h=i.value}if(r.type!==k.None){if(r.type===k.Hue)return;t.s=r.type===k.Number?r.value:r.value/100}if(s.type!==k.None){if(s.type===k.Hue)return;t.l=s.type===k.Number?s.value:s.value/100}return o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const oa={mode:"hsl",toMode:{rgb:Jo},fromMode:{rgb:Qo},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[sa,ra],serialize:e=>`hsl(${e.h||0} ${e.s!==void 0?e.s*100+"%":"none"} ${e.l!==void 0?e.l*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:z,fixup:ne},s:z,l:z,alpha:{use:z,fixup:G}},difference:{h:cn},average:{h:te}},Ni=oa;function Di({h:e,s:n,v:t,alpha:i}){e=V(e);let r=Math.abs(e/60%2-1),s;switch(Math.floor(e/60)){case 0:s={r:t,g:t*(1-n*r),b:t*(1-n)};break;case 1:s={r:t*(1-n*r),g:t,b:t*(1-n)};break;case 2:s={r:t*(1-n),g:t,b:t*(1-n*r)};break;case 3:s={r:t*(1-n),g:t*(1-n*r),b:t};break;case 4:s={r:t*(1-n*r),g:t*(1-n),b:t};break;case 5:s={r:t,g:t*(1-n),b:t*(1-n*r)};break;default:s={r:t*(1-n),g:t*(1-n),b:t*(1-n)}}return s.mode="rgb",i!==void 0&&(s.alpha=i),s}function Xi({r:e,g:n,b:t,alpha:i}){let r=Math.max(e,n,t),s=Math.min(e,n,t),o={mode:"hsv",s:r===0?0:1-s/r,v:r};return r-s!==0&&(o.h=(r===e?(n-t)/(r-s)+(n<t)*6:r===n?(t-e)/(r-s)+2:(e-n)/(r-s)+4)*60),i!==void 0&&(o.alpha=i),o}const aa={mode:"hsv",toMode:{rgb:Di},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:Xi},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:z,fixup:ne},s:z,v:z,alpha:{use:z,fixup:G}},difference:{h:cn},average:{h:te}},Hi=aa;function la({h:e,w:n,b:t,alpha:i}){if(n+t>1){let r=n+t;n/=r,t/=r}return Di({h:e,s:t===1?1:1-n/(1-t),v:1-t,alpha:i})}function ha(e){let n=Xi(e);if(n===void 0)return;let t={mode:"hwb",w:(1-n.s)*n.v,b:1-n.v};return n.h!==void 0&&(t.h=n.h),n.alpha!==void 0&&(t.alpha=n.alpha),t}function ua(e,n){if(!n||n[0]!=="hwb")return;const t={mode:"hwb"},[,i,r,s,o]=n;if(i.type!==k.None){if(i.type===k.Percentage)return;t.h=i.value}if(r.type!==k.None){if(r.type===k.Hue)return;t.w=r.type===k.Number?r.value:r.value/100}if(s.type!==k.None){if(s.type===k.Hue)return;t.b=s.type===k.Number?s.value:s.value/100}return o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const ca={mode:"hwb",toMode:{rgb:la},fromMode:{rgb:ha},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[ua],serialize:e=>`hwb(${e.h||0} ${e.w*100}% ${e.b*100}%${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:z,fixup:ne},w:z,b:z,alpha:{use:z,fixup:G}},difference:{h:Lo},average:{h:te}},da=ca,fa=.1593017578125,ga=134.03437499999998,ma=.8359375,ba=18.8515625,pa=18.6875,ya=16295499532821565e-27,Rn=e=>{let n=Math.pow(e/1e4,fa);return Math.pow((ma+ba*n)/(1+pa*n),ga)||0},Ln=e=>Math.max(e*203,0),va=({x:e,y:n,z:t,alpha:i})=>{e=Ln(e),n=Ln(n),t=Ln(t);let r=1.15*e-.15*t,s=.66*n+.34*e,o=Rn(.41478972*r+.579999*s+.014648*t),a=Rn(-.20151*r+1.120649*s+.0531008*t),l=Rn(-.0166008*r+.2648*s+.6684799*t),h=(o+a)/2,d={mode:"jab",j:.44*h/(1-.56*h)-ya,a:3.524*o-4.066708*a+.542708*l,b:.199076*o+1.096799*a-1.295875*l};return i!==void 0&&(d.alpha=i),d},ji=va,ka=.1593017578125,wa=134.03437499999998,Ma=.8359375,xa=18.8515625,za=18.6875,ri=16295499532821565e-27,Bn=e=>{let n=Math.pow(e,1/wa);return 1e4*Math.pow((Ma-n)/(za*n-xa),1/ka)||0},Fn=e=>e/203,_a=({j:e,a:n,b:t,alpha:i})=>{let r=(e+ri)/(.44+.56*(e+ri)),s=Bn(r+.13860504*n+.058047316*t),o=Bn(r-.13860504*n-.058047316*t),a=Bn(r-.096019242*n-.8118919*t),l={mode:"xyz65",x:Fn(1.661373024652174*s-.914523081304348*o+.23136208173913045*a),y:Fn(-.3250758611844533*s+1.571847026732543*o-.21825383453227928*a),z:Fn(-.090982811*s-.31272829*o+1.5227666*a)};return i!==void 0&&(l.alpha=i),l},Ki=_a,Aa=e=>{let n=ji(Pe(e));return e.r===e.b&&e.b===e.g&&(n.a=n.b=0),n},Wi=Aa,Ta=e=>Se(Ki(e)),Oi=Ta,$a={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Wi,xyz65:ji},toMode:{rgb:Oi,xyz65:Ki},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:z,a:z,b:z,alpha:{use:z,fixup:G}}},Pa=$a,Ia=({j:e,a:n,b:t,alpha:i})=>{let r=Math.sqrt(n*n+t*t),s={mode:"jch",j:e,c:r};return r&&(s.h=V(Math.atan2(t,n)*180/Math.PI)),i!==void 0&&(s.alpha=i),s},si=Ia,Sa=({j:e,c:n,h:t,alpha:i})=>{let r={mode:"jab",j:e,a:n?n*Math.cos(t/180*Math.PI):0,b:n?n*Math.sin(t/180*Math.PI):0};return i!==void 0&&(r.alpha=i),r},oi=Sa,Ra={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:oi,rgb:e=>Oi(oi(e))},fromMode:{rgb:e=>si(Wi(e)),jab:si},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:z,fixup:ne},c:z,j:z,alpha:{use:z,fixup:G}},difference:{h:dn},average:{h:te}},La=Ra,mn=Math.pow(29,3)/Math.pow(3,3),gt=Math.pow(6,3)/Math.pow(29,3);let En=e=>Math.pow(e,3)>gt?Math.pow(e,3):(116*e-16)/mn;const Ba=({l:e,a:n,b:t,alpha:i})=>{let r=(e+16)/116,s=n/500+r,o=r-t/200,a={mode:"xyz50",x:En(s)*O.X,y:En(r)*O.Y,z:En(o)*O.Z};return i!==void 0&&(a.alpha=i),a},mt=Ba,Fa=({x:e,y:n,z:t,alpha:i})=>{let r=Ie({r:e*3.1341359569958707-n*1.6173863321612538-.4906619460083532*t,g:e*-.978795502912089+n*1.916254567259524+.03344273116131949*t,b:e*.07195537988411677-n*.2289768264158322+1.405386058324125*t});return i!==void 0&&(r.alpha=i),r},je=Fa,Ea=e=>je(mt(e)),qi=Ea,Ca=e=>{let{r:n,g:t,b:i,alpha:r}=$e(e),s={mode:"xyz50",x:.436065742824811*n+.3851514688337912*t+.14307845442264197*i,y:.22249319175623702*n+.7168870538238823*t+.06061979053616537*i,z:.013923904500943465*n+.09708128566574634*t+.7140993584005155*i};return r!==void 0&&(s.alpha=r),s},Ke=Ca,Cn=e=>e>gt?Math.cbrt(e):(mn*e+16)/116,Na=({x:e,y:n,z:t,alpha:i})=>{let r=Cn(e/O.X),s=Cn(n/O.Y),o=Cn(t/O.Z),a={mode:"lab",l:116*s-16,a:500*(r-s),b:200*(s-o)};return i!==void 0&&(a.alpha=i),a},bt=Na,Da=e=>{let n=bt(Ke(e));return e.r===e.b&&e.b===e.g&&(n.a=n.b=0),n},Gi=Da;function Xa(e,n){if(!n||n[0]!=="lab")return;const t={mode:"lab"},[,i,r,s,o]=n;if(!(i.type===k.Hue||r.type===k.Hue||s.type===k.Hue))return i.type!==k.None&&(t.l=i.value),r.type!==k.None&&(t.a=r.type===k.Number?r.value:r.value*125/100),s.type!==k.None&&(t.b=s.type===k.Number?s.value:s.value*125/100),o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const Ha={mode:"lab",toMode:{xyz50:mt,rgb:qi},fromMode:{xyz50:bt,rgb:Gi},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[Xa],serialize:e=>`lab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:z,a:z,b:z,alpha:{use:z,fixup:G}}},pt=Ha,ja={...pt,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Bi,rgb:fn},fromMode:{xyz65:Fi,rgb:gn},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}},Ka=ja;function Wa(e,n){if(!n||n[0]!=="lch")return;const t={mode:"lch"},[,i,r,s,o]=n;if(i.type!==k.None){if(i.type===k.Hue)return;t.l=i.value}if(r.type!==k.None&&(t.c=Math.max(0,r.type===k.Number?r.value:r.value*150/100)),s.type!==k.None){if(s.type===k.Percentage)return;t.h=s.value}return o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const Oa={mode:"lch",toMode:{lab:de,rgb:e=>qi(de(e))},fromMode:{rgb:e=>ce(Gi(e)),lab:ce},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[Wa],serialize:e=>`lch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h||0}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:z,fixup:ne},c:z,l:z,alpha:{use:z,fixup:G}},difference:{h:dn},average:{h:te}},yt=Oa,qa={...yt,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>de(e,"lab65"),rgb:e=>fn(de(e,"lab65"))},fromMode:{rgb:e=>ce(gn(e),"lch65"),lab65:e=>ce(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},Ga=qa,Za=({l:e,u:n,v:t,alpha:i})=>{let r=Math.sqrt(n*n+t*t),s={mode:"lchuv",l:e,c:r};return r&&(s.h=V(Math.atan2(t,n)*180/Math.PI)),i!==void 0&&(s.alpha=i),s},Zi=Za,Va=({l:e,c:n,h:t,alpha:i})=>{let r={mode:"luv",l:e,u:n?n*Math.cos(t/180*Math.PI):0,v:n?n*Math.sin(t/180*Math.PI):0};return i!==void 0&&(r.alpha=i),r},Vi=Va,Yi=(e,n,t)=>4*e/(e+15*n+3*t),Ui=(e,n,t)=>9*n/(e+15*n+3*t),Ya=Yi(O.X,O.Y,O.Z),Ua=Ui(O.X,O.Y,O.Z),Ja=e=>e<=gt?mn*e:116*Math.cbrt(e)-16,Qa=({x:e,y:n,z:t,alpha:i})=>{let r=Ja(n/O.Y),s=Yi(e,n,t),o=Ui(e,n,t);!isFinite(s)||!isFinite(o)?r=s=o=0:(s=13*r*(s-Ya),o=13*r*(o-Ua));let a={mode:"luv",l:r,u:s,v:o};return i!==void 0&&(a.alpha=i),a},et=Qa,el=(e,n,t)=>4*e/(e+15*n+3*t),nl=(e,n,t)=>9*n/(e+15*n+3*t),tl=el(O.X,O.Y,O.Z),il=nl(O.X,O.Y,O.Z),rl=({l:e,u:n,v:t,alpha:i})=>{let r=n/(13*e)+tl,s=t/(13*e)+il,o=O.Y*(e<=8?e/mn:Math.pow((e+16)/116,3)),a=o*(9*r)/(4*s),l=o*(12-3*r-20*s)/(4*s),h={mode:"xyz50",x:a,y:o,z:l};return i!==void 0&&(h.alpha=i),h},nt=rl,sl=e=>Zi(et(Ke(e))),ol=e=>je(nt(Vi(e))),al={mode:"lchuv",toMode:{luv:Vi,rgb:ol},fromMode:{rgb:sl,luv:Zi},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:z,fixup:ne},c:z,l:z,alpha:{use:z,fixup:G}},difference:{h:dn},average:{h:te}},ll=al,hl={...Te,mode:"lrgb",toMode:{rgb:Ie},fromMode:{rgb:$e},parse:["srgb-linear"],serialize:"srgb-linear"},ul=hl,cl={mode:"luv",toMode:{xyz50:nt,rgb:e=>je(nt(e))},fromMode:{xyz50:et,rgb:e=>et(Ke(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:z,u:z,v:z,alpha:{use:z,fixup:G}}},dl=cl,fl=({r:e,g:n,b:t,alpha:i})=>{let r=Math.cbrt(.41222147079999993*e+.5363325363*n+.0514459929*t),s=Math.cbrt(.2119034981999999*e+.6806995450999999*n+.1073969566*t),o=Math.cbrt(.08830246189999998*e+.2817188376*n+.6299787005000002*t),a={mode:"oklab",l:.2104542553*r+.793617785*s-.0040720468*o,a:1.9779984951*r-2.428592205*s+.4505937099*o,b:.0259040371*r+.7827717662*s-.808675766*o};return i!==void 0&&(a.alpha=i),a},Ji=fl,gl=e=>{let n=Ji($e(e));return e.r===e.b&&e.b===e.g&&(n.a=n.b=0),n},bn=gl,ml=({l:e,a:n,b:t,alpha:i})=>{let r=Math.pow(e*.9999999984505198+.39633779217376786*n+.2158037580607588*t,3),s=Math.pow(e*1.0000000088817609-.10556134232365635*n-.06385417477170591*t,3),o=Math.pow(e*1.0000000546724108-.08948418209496575*n-1.2914855378640917*t,3),a={mode:"lrgb",r:4.076741661347994*r-3.307711590408193*s+.230969928729428*o,g:-1.2684380040921763*r+2.6097574006633715*s-.3413193963102197*o,b:-.004196086541837188*r-.7034186144594493*s+1.7076147009309444*o};return i!==void 0&&(a.alpha=i),a},We=ml,bl=e=>Ie(We(e)),pn=bl;function tt(e){const i=1.170873786407767;return .5*(i*e-.206+Math.sqrt((i*e-.206)*(i*e-.206)+4*.03*i*e))}function un(e){const i=1.170873786407767;return(e*e+.206*e)/(i*(e+.03))}function pl(e,n){let t,i,r,s,o,a,l,h;-1.88170328*e-.80936493*n>1?(t=1.19086277,i=1.76576728,r=.59662641,s=.75515197,o=.56771245,a=4.0767416621,l=-3.3077115913,h=.2309699292):1.81444104*e-1.19445276*n>1?(t=.73956515,i=-.45954404,r=.08285427,s=.1254107,o=.14503204,a=-1.2684380046,l=2.6097574011,h=-.3413193965):(t=1.35733652,i=-.00915799,r=-1.1513021,s=-.50559606,o=.00692167,a=-.0041960863,l=-.7034186147,h=1.707614701);let d=t+i*e+r*n+s*e*e+o*e*n,u=.3963377774*e+.2158037573*n,c=-.1055613458*e-.0638541728*n,f=-.0894841775*e-1.291485548*n;{let b=1+d*u,m=1+d*c,y=1+d*f,p=b*b*b,v=m*m*m,w=y*y*y,_=3*u*b*b,x=3*c*m*m,P=3*f*y*y,R=6*u*u*b,I=6*c*c*m,B=6*f*f*y,M=a*p+l*v+h*w,g=a*_+l*x+h*P,$=a*R+l*I+h*B;d=d-M*g/(g*g-.5*M*$)}return d}function vt(e,n){let t=pl(e,n),i=We({l:1,a:t*e,b:t*n}),r=Math.cbrt(1/Math.max(i.r,i.g,i.b)),s=r*t;return[r,s]}function yl(e,n,t,i,r,s=null){s||(s=vt(e,n));let o;if((t-r)*s[1]-(s[0]-r)*i<=0)o=s[1]*r/(i*s[0]+s[1]*(r-t));else{o=s[1]*(r-1)/(i*(s[0]-1)+s[1]*(r-t));{let a=t-r,l=i,h=.3963377774*e+.2158037573*n,d=-.1055613458*e-.0638541728*n,u=-.0894841775*e-1.291485548*n,c=a+l*h,f=a+l*d,b=a+l*u;{let m=r*(1-o)+o*t,y=o*i,p=m+y*h,v=m+y*d,w=m+y*u,_=p*p*p,x=v*v*v,P=w*w*w,R=3*c*p*p,I=3*f*v*v,B=3*b*w*w,M=6*c*c*p,g=6*f*f*v,$=6*b*b*w,A=4.0767416621*_-3.3077115913*x+.2309699292*P-1,F=4.0767416621*R-3.3077115913*I+.2309699292*B,Z=4.0767416621*M-3.3077115913*g+.2309699292*$,K=F/(F*F-.5*A*Z),L=-A*K,H=-1.2684380046*_+2.6097574011*x-.3413193965*P-1,W=-1.2684380046*R+2.6097574011*I-.3413193965*B,J=-1.2684380046*M+2.6097574011*g-.3413193965*$,be=W/(W*W-.5*H*J),Re=-H*be,wt=-.0041960863*_-.7034186147*x+1.707614701*P-1,yn=-.0041960863*R-.7034186147*I+1.707614701*B,ir=-.0041960863*M-.7034186147*g+1.707614701*$,Mt=yn/(yn*yn-.5*wt*ir),vn=-wt*Mt;L=K>=0?L:1e6,Re=be>=0?Re:1e6,vn=Mt>=0?vn:1e6,o+=Math.min(L,Math.min(Re,vn))}}}return o}function kt(e,n,t=null){t||(t=vt(e,n));let i=t[0],r=t[1];return[r/i,r/(1-i)]}function Qi(e,n,t){let i=vt(n,t),r=yl(n,t,e,1,e,i),s=kt(n,t,i),o=.11516993+1/(7.4477897+4.1590124*t+n*(-2.19557347+1.75198401*t+n*(-2.13704948-10.02301043*t+n*(-4.24894561+5.38770819*t+4.69891013*n)))),a=.11239642+1/(1.6132032-.68124379*t+n*(.40370612+.90148123*t+n*(-.27087943+.6122399*t+n*(.00299215-.45399568*t-.14661872*n)))),l=r/Math.min(e*s[0],(1-e)*s[1]),h=e*o,d=(1-e)*a,u=.9*l*Math.sqrt(Math.sqrt(1/(1/(h*h*h*h)+1/(d*d*d*d))));return h=e*.4,d=(1-e)*.8,[Math.sqrt(1/(1/(h*h)+1/(d*d))),u,r]}function ai(e){const n={mode:"okhsl",l:tt(e.l)};e.alpha!==void 0&&(n.alpha=e.alpha);let t=Math.sqrt(e.a*e.a+e.b*e.b);if(!t)return n.s=0,n;let[i,r,s]=Qi(e.l,e.a/t,e.b/t),o;if(t<r){let a=0,l=.8*i,h=1-l/r;o=(t-a)/(l+h*(t-a))*.8}else{let a=r,l=.2*r*r*1.25*1.25/i,h=1-l/(s-r);o=.8+.2*((t-a)/(l+h*(t-a)))}return o&&(n.s=o,n.h=V(Math.atan2(e.b,e.a)*180/Math.PI)),n}function li(e){let n=un(e.l);const t={mode:"oklab",l:n};if(e.alpha!==void 0&&(t.alpha=e.alpha),!e.s||e.l===1)return t.a=t.b=0,t;let i=Math.cos(e.h/180*Math.PI),r=Math.sin(e.h/180*Math.PI),[s,o,a]=Qi(n,i,r),l,h,d,u;e.s<.8?(l=1.25*e.s,h=0,d=.8*s,u=1-d/o):(l=5*(e.s-.8),h=o,d=.2*o*o*1.25*1.25/s,u=1-d/(a-o));let c=h+l*d/(1-u*l);return t.a=c*i,t.b=c*r,t}const vl={...Ni,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:ai,rgb:e=>ai(bn(e))},toMode:{oklab:li,rgb:e=>pn(li(e))}},kl=vl;function hi(e){let n=Math.sqrt(e.a*e.a+e.b*e.b),t=e.l,i=n?e.a/n:1,r=n?e.b/n:1,[s,o]=kt(i,r),a=.5,l=1-a/s,h=o/(n+t*o),d=h*t,u=h*n,c=un(d),f=u*c/d,b=We({l:c,a:i*f,b:r*f}),m=Math.cbrt(1/Math.max(b.r,b.g,b.b,0));t=t/m,n=n/m*tt(t)/t,t=tt(t);const y={mode:"okhsv",s:n?(a+o)*u/(o*a+o*l*u):0,v:t?t/d:0};return y.s&&(y.h=V(Math.atan2(e.b,e.a)*180/Math.PI)),e.alpha!==void 0&&(y.alpha=e.alpha),y}function ui(e){const n={mode:"oklab"};e.alpha!==void 0&&(n.alpha=e.alpha);const t=e.h||0,i=Math.cos(t/180*Math.PI),r=Math.sin(t/180*Math.PI),[s,o]=kt(i,r),a=.5,l=1-a/s,h=1-e.s*a/(a+o-o*l*e.s),d=e.s*o*a/(a+o-o*l*e.s),u=un(h),c=d*u/h,f=We({l:u,a:i*c,b:r*c}),b=Math.cbrt(1/Math.max(f.r,f.g,f.b,0)),m=un(e.v*h),y=d*m/h;return n.l=m*b,n.a=y*i*b,n.b=y*r*b,n}const wl={...Hi,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:hi,rgb:e=>hi(bn(e))},toMode:{oklab:ui,rgb:e=>pn(ui(e))}},Ml=wl;function xl(e,n){if(!n||n[0]!=="oklab")return;const t={mode:"oklab"},[,i,r,s,o]=n;if(!(i.type===k.Hue||r.type===k.Hue||s.type===k.Hue))return i.type!==k.None&&(t.l=i.type===k.Number?i.value:i.value/100),r.type!==k.None&&(t.a=r.type===k.Number?r.value:r.value*.4/100),s.type!==k.None&&(t.b=s.type===k.Number?s.value:s.value*.4/100),o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const zl={...pt,mode:"oklab",toMode:{lrgb:We,rgb:pn},fromMode:{lrgb:Ji,rgb:bn},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[xl],serialize:e=>`oklab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`},_l=zl;function Al(e,n){if(!n||n[0]!=="oklch")return;const t={mode:"oklch"},[,i,r,s,o]=n;if(i.type!==k.None){if(i.type===k.Hue)return;t.l=i.type===k.Number?i.value:i.value/100}if(r.type!==k.None&&(t.c=Math.max(0,r.type===k.Number?r.value:r.value*.4/100)),s.type!==k.None){if(s.type===k.Percentage)return;t.h=s.value}return o.type!==k.None&&(t.alpha=o.type===k.Number?o.value:o.value/100),t}const Tl={...yt,mode:"oklch",toMode:{oklab:e=>de(e,"oklab"),rgb:e=>pn(de(e,"oklab"))},fromMode:{rgb:e=>ce(bn(e),"oklch"),oklab:e=>ce(e,"oklch")},parse:[Al],serialize:e=>`oklch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h||0}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},$l=Tl,Pl=e=>{let{r:n,g:t,b:i,alpha:r}=$e(e),s={mode:"xyz65",x:.486570948648216*n+.265667693169093*t+.1982172852343625*i,y:.2289745640697487*n+.6917385218365062*t+.079286914093745*i,z:0*n+.0451133818589026*t+1.043944368900976*i};return r!==void 0&&(s.alpha=r),s},ci=Pl,Il=({x:e,y:n,z:t,alpha:i})=>{let r=Ie({r:e*2.4934969119414263-n*.9313836179191242-.402710784450717*t,g:e*-.8294889695615749+n*1.7626640603183465+.0236246858419436*t,b:e*.0358458302437845-n*.0761723892680418+.9568845240076871*t},"p3");return i!==void 0&&(r.alpha=i),r},di=Il,Sl={...Te,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>di(Pe(e)),xyz65:di},toMode:{rgb:e=>Se(ci(e)),xyz65:ci}},Rl=Sl,Nn=e=>{let n=Math.abs(e);return n>=1/512?Math.sign(e)*Math.pow(n,1/1.8):16*e},Ll=({x:e,y:n,z:t,alpha:i})=>{let r={mode:"prophoto",r:Nn(e*1.3457868816471585-n*.2555720873797946-.0511018649755453*t),g:Nn(e*-.5446307051249019+n*1.5082477428451466+.0205274474364214*t),b:Nn(e*0+n*0+1.2119675456389452*t)};return i!==void 0&&(r.alpha=i),r},fi=Ll,Dn=e=>{let n=Math.abs(e);return n>=16/512?Math.sign(e)*Math.pow(n,1.8):e/16},Bl=e=>{let n=Dn(e.r),t=Dn(e.g),i=Dn(e.b),r={mode:"xyz50",x:.7977666449006423*n+.1351812974005331*t+.0313477341283922*i,y:.2880748288194013*n+.7118352342418731*t+899369387256e-16*i,z:0*n+0*t+.8251046025104602*i};return e.alpha!==void 0&&(r.alpha=e.alpha),r},gi=Bl,Fl={...Te,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:fi,rgb:e=>fi(Ke(e))},toMode:{xyz50:gi,rgb:e=>je(gi(e))}},El=Fl,mi=1.09929682680944,Cl=.018053968510807,Xn=e=>{const n=Math.abs(e);return n>Cl?(Math.sign(e)||1)*(mi*Math.pow(n,.45)-(mi-1)):4.5*e},Nl=({x:e,y:n,z:t,alpha:i})=>{let r={mode:"rec2020",r:Xn(e*1.7166511879712683-n*.3556707837763925-.2533662813736599*t),g:Xn(e*-.6666843518324893+n*1.6164812366349395+.0157685458139111*t),b:Xn(e*.0176398574453108-n*.0427706132578085+.9421031212354739*t)};return i!==void 0&&(r.alpha=i),r},bi=Nl,pi=1.09929682680944,Dl=.018053968510807,Hn=e=>{let n=Math.abs(e);return n<Dl*4.5?e/4.5:(Math.sign(e)||1)*Math.pow((n+pi-1)/pi,1/.45)},Xl=e=>{let n=Hn(e.r),t=Hn(e.g),i=Hn(e.b),r={mode:"xyz65",x:.6369580483012911*n+.1446169035862083*t+.1688809751641721*i,y:.262700212011267*n+.6779980715188708*t+.059301716469862*i,z:0*n+.0280726930490874*t+1.0609850577107909*i};return e.alpha!==void 0&&(r.alpha=e.alpha),r},yi=Xl,Hl={...Te,mode:"rec2020",fromMode:{xyz65:bi,rgb:e=>bi(Pe(e))},toMode:{xyz65:yi,rgb:e=>Se(yi(e))},parse:["rec2020"],serialize:"rec2020"},jl=Hl,me=.0037930732552754493,er=Math.cbrt(me),jn=e=>Math.cbrt(e)-er,Kl=e=>{const{r:n,g:t,b:i,alpha:r}=$e(e),s=jn(.3*n+.622*t+.078*i+me),o=jn(.23*n+.692*t+.078*i+me),a=jn(.2434226892454782*n+.2047674442449682*t+.5518098665095535*i+me),l={mode:"xyb",x:(s-o)/2,y:(s+o)/2,b:a-(s+o)/2};return r!==void 0&&(l.alpha=r),l},Wl=Kl,Kn=e=>Math.pow(e+er,3),Ol=({x:e,y:n,b:t,alpha:i})=>{const r=Kn(e+n)-me,s=Kn(n-e)-me,o=Kn(t+n)-me,a=Ie({r:11.031566904639861*r-9.866943908131562*s-.16462299650829934*o,g:-3.2541473810744237*r+4.418770377582723*s-.16462299650829934*o,b:-3.6588512867136815*r+2.7129230459360922*s+1.9459282407775895*o});return i!==void 0&&(a.alpha=i),a},ql=Ol,Gl={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:ql},fromMode:{rgb:Wl},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:z,y:z,b:z,alpha:{use:z,fixup:G}}},Zl=Gl,Vl={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:je,lab:bt},fromMode:{rgb:Ke,lab:mt},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:z,y:z,z,alpha:{use:z,fixup:G}}},Yl=Vl,Ul=e=>{let{x:n,y:t,z:i,alpha:r}=e,s={mode:"xyz50",x:1.0479298208405488*n+.0229467933410191*t-.0501922295431356*i,y:.0296278156881593*n+.990434484573249*t-.0170738250293851*i,z:-.0092430581525912*n+.0150551448965779*t+.7518742899580008*i};return r!==void 0&&(s.alpha=r),s},Jl=Ul,Ql=e=>{let{x:n,y:t,z:i,alpha:r}=e,s={mode:"xyz65",x:.9554734527042182*n-.0230985368742614*t+.0632593086610217*i,y:-.0283697069632081*n+1.0099954580058226*t+.021041398966943*i,z:.0123140016883199*n-.0205076964334779*t+1.3303659366080753*i};return r!==void 0&&(s.alpha=r),s},eh=Ql,nh={mode:"xyz65",toMode:{rgb:Se,xyz50:Jl},fromMode:{rgb:Pe,xyz50:eh},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:z,y:z,z,alpha:{use:z,fixup:G}}},th=nh,ih=({r:e,g:n,b:t,alpha:i})=>{const r={mode:"yiq",y:.29889531*e+.58662247*n+.11448223*t,i:.59597799*e-.2741761*n-.32180189*t,q:.21147017*e-.52261711*n+.31114694*t};return i!==void 0&&(r.alpha=i),r},rh=ih,sh=({y:e,i:n,q:t,alpha:i})=>{const r={mode:"rgb",r:e+.95608445*n+.6208885*t,g:e-.27137664*n-.6486059*t,b:e-1.10561724*n+1.70250126*t};return i!==void 0&&(r.alpha=i),r},oh=sh,ah={mode:"yiq",toMode:{rgb:oh},fromMode:{rgb:rh},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:z,i:z,q:z,alpha:{use:z,fixup:G}}},lh=ah,hh=(e,n)=>Math.round(e*(n=Math.pow(10,n)))/n,uh=(e=4)=>n=>typeof n=="number"?hh(n,e):n,ch=uh;let dh=ch(2);const nr=e=>Math.max(0,Math.min(1,e)),Wn=e=>Math.round(nr(e)*255),fh=e=>{if(e===void 0)return;let n=e.r!==void 0?Wn(e.r):"none",t=e.g!==void 0?Wn(e.g):"none",i=e.b!==void 0?Wn(e.b):"none";return e.alpha===void 0||e.alpha===1?`rgb(${n}, ${t}, ${i})`:`rgba(${n}, ${t}, ${i}, ${dh(nr(e.alpha))})`},tr=e=>fh($i("rgb")(e));X(zo);X(Fo);X(Oo);X(Go);X(Uo);X(Ni);X(Hi);X(da);X(Pa);X(La);X(pt);X(Ka);X(yt);X(Ga);X(ll);X(ul);X(dl);X(kl);X(Ml);X(_l);X($l);X(Rl);X(El);X(jl);X(Te);X(Zl);X(Yl);X(th);X(lh);class gh{constructor(n=500,t=500,i,r,s,o,a){j(this,"init",()=>{this.height/this.numIntervals,this.worker=new Ls,this.worker.onmessage=n=>{const{type:t,data:i}=n.data;switch(t){case"updateCells":const{batchUpdates:r,gen:s}=i;this.latestGen=s;for(let o of r)this.cellsData[o.index]=o;break;case"setInitialCellsData":this.cellsData=i,this.mediumCounts=this.getMediumCounts(this.cellsData),console.log("board mediumCounts:",this.mediumCounts),this.displayInitial(this.ctx,this.scrollY,this.innerHeight);break;default:console.error(`Unknown message type: ${t}`)}},this.poline=new dt({numPoints:this.numIntervals,anchorColors:[[0,1,1],[0,1,.5]]}),this.RgbColors=[...this.poline.colors].map(n=>tr({mode:"hsl",h:n[0],s:n[1],l:n[2]}));for(const[n,[t,i]]of this.points.entries()){const r=this.voronoi.cellPolygon(n),s=[...this.voronoi.neighbors(n)];let o;for(let a=0;a<this.boundingBoxes.length;a++){const{top:l,height:h}=this.boundingBoxes[a];if(i>=l&&i<l+h){o=this.RgbColors[a];break}}this.worker.postMessage({type:"addCell",data:{x:t,y:i,index:n,polygon:r,neighbors:s,medium:o}})}this.index=this.delaunay.find(Math.random()*2e3,0),this.worker.postMessage({type:"initCells",data:{startIndex:this.index}}),this.worker.postMessage({type:"getInitialCellsData"})});j(this,"generate",(n,t)=>{console.log("board generate mediumCount:",this.mediumCounts),this.worker.postMessage({type:"generate",data:{startGen:n,numGens:t,mediumCounts:this.mediumCounts}})});j(this,"display",(n,t,i,r,s)=>{this.latestGenDamped=yh(Lt([this.latestGen,r]),this.latestGenDamped);const o=Lt([s,this.latestGenDamped]);for(const a of this.getVisibleCells(this.cellsData,t,i))n.beginPath(),this.voronoi.renderCell(a.index,n),n.strokeStyle=De(vi(a,Math.round(o))).brighter().formatRgb(),n.stroke(),n.fillStyle=vi(a,Math.round(o)),n.fill(),n.closePath()});j(this,"displayInitial",(n,t,i)=>{for(const r of this.getVisibleCells(this.cellsData,t,i))n.beginPath(),this.voronoi.renderCell(r.index,n),n.strokeStyle=De(r.color[0]).brighter().formatRgb(),n.stroke(),n.fillStyle=r.color[0],n.fill(),n.closePath()});j(this,"getVisible",(n,t)=>this.getVisibleCells(this.cellsData,n,t));j(this,"getVisibleCells",(n,t,i)=>n.filter(s=>{let o=s.boundingBox;return o.maxY>t&&o.maxY<t+i||o.minY>t&&o.minY<t+i}));j(this,"getMediumCounts",n=>n.reduce((i,r)=>(i[r.medium]||(i[r.medium]=0),i[r.medium]++,i),{}));this.listeners=new Map,this.threshold=2,this.numGenerations=i,this.radius=16,this.width=n,this.height=t,this.ctx=r,this.scrollY=s,this.innerHeight=o,this.points=[...Rs(0,0,this.width,this.height,this.radius)],this.delaunay=lt.from(this.points),this.voronoi=this.delaunay.voronoi([.5,.5,this.width-.5,this.height-.5]),this.cellsData=[],this.livingCells=[],this.livingCellsNeighbors=[],this.generations=new Array(this.numGenerations),this.latestGen=0,this.latestGenDamped=0,this.boundingBoxes=a,this.numIntervals=a.length,this.init()}}function vi(e,n){return mh(e,n)?e.color[bh(e,n)]:ph(e,n)?e.color[le.lifetime-1]:e.color[0]}function mh(e,n){return e.state.includes(n)}function bh(e,n){return e.state.indexOf(n)}function ph(e,n){return e.state.length===0?!1:n>e.state[e.state.length-1]}function yh(e,n){const t=e-n;return n+=t/16}const vh="Antibiotikaresistenz – Ein Wettlauf mit der Evolution",kh=[{type:"text",value:"Stellen Sie sich eine Welt ohne Antibiotika vor."},{type:"text",value:"Verletzungen und Infektionskrankheiten können leicht zum Tod führen."},{type:"text",value:"Unfälle und kleine Verletzungen können lebensbedrohlich sein. Offene Wunden sind anfällig für Infektionen. Wenn die Infektion eine Entzündungsreaktion im Körper auslöst, kann eine Blutvergiftung entstehen welche die Organe schädigen und zum Tod führen kann. Die Blutvergiftung kann heute mit Antibiotika behandelt werden, ist aber immer noch eine schwere Krankheit, an der 20 von 100 Infizierten sterben. Ohne Antibiotika würden bis zu 90 von 100 infizierten Personen sterben."},{type:"text",value:"Lungenentzündung ist eine häufige Infektionskrankheit, die durch Bakterien verursacht wird. Besonders gefährlich ist sie für Menschen mit einem geschwächten Immunsystem wie ältere Menschen, Säuglinge oder Kleinkinder. Heute sind von 100.000 Todesfällen nur etwa 10 auf Lungenentzündung zurückzuführen. Im Jahr 1900 jedoch, als es noch keine Antibiotika gab, war diese Zahl etwa 20-mal so hoch, so dass Lungenentzündung eine der drei häufigsten Todesursachen war."},{type:"text",value:"In einer Welt ohne Antibiotika würde Tuberkulose eine tödliche Bedrohung darstellen. Die Bakterien, die sie verursachen, befallen vor allem die Lunge, was zu Brustschmerzen und anhaltendem, heftigem Husten führt. Bleibt die Infektion unbehandelt, kann sie sich auf andere Körperteile ausbreiten und zu noch schwereren gesundheitlichen Komplikationen führen. Ohne Antibiotika würden wir in eine Welt zurückkehren, in der Tuberkulose das Schreckgespenst des Todes war - und das ist sie in unterentwickelten Ländern, in denen Gesundheitsversorgung und Antibiotika nicht weit verbreitet sind, auch heute noch. In einer Welt ohne Antibiotika gäbe es keine wirksame Behandlungsmöglichkeit für Tuberkulose."},{type:"text",value:"In einer Welt ohne Antibiotika wären routinemäßige medizinische Eingriffe und alltägliche Operationen nicht mehr möglich."},{type:"text",value:"Antibiotika werden in der Regel bei Operationen eingesetzt, um Infektionen zu verhindern. Zu diesen Eingriffen gehören alltägliche Operationen wie Hüft- oder Kniegelenkersatz oder die Entfernung des Blinddarms oder der Mandeln. Ohne Antibiotika wären diese Operationen nicht mehr möglich, und die Patienten wären gezwungen, ein Leben unter Schmerzen zu führen. So etwas wie Blinddarmentzündungen könnten tödlich enden."},{type:"text",value:"Kaiserschnitte zur Rettung eines ungeborenen Kindes wären nicht mehr möglich. Dies würde sowohl die Mutter als auch das Leben des ungeborenen Kindes gefährden. In einer Welt ohne Antibiotika wäre eine Geburt ein riskantes Unterfangen - so wie es in der Menschheitsgeschichte seit Jahrtausenden im Zeitalter vor den Antibiotika der Fall war."},{type:"text",value:"Eine Welt ohne Antibiotika wäre ein sehr gefährlicher Ort für uns Menschen."},{type:"text",value:"Eine Welt ohne wirksame Antibiotika ist in der Tat eine Gefahr, mit der wir wieder konfrontiert sind, da antibiotikaresistente Bakterien auf dem Vormarsch sind. Wir befinden uns in einer akuten Krise, und der Wettlauf mit der Evolution um Sieg oder Niederlage in der Frage der Antibiotikaresistenz hat begonnen."},{type:"text",value:"Was bedeutet das?"},{type:"text",value:"Um trotz des hohen Einsatzes von Antibiotika zu überleben, haben Bakterien zufällige genetische Veränderungen, sogenannte Mutationen, entwickelt (man spricht dabei auch davon, dass Bakterien Resistenzen evolvieren). Diese Mutationen entstehen ganz natürlich im Laufe der Vermehrung und der Evolution. In der Folge sind einzelne Bakterien weniger anfällig oder sogar resistent gegen ein Antibiotikum. Die Wirkung der Medikamente lässt somit nach oder ist gar nicht mehr vorhanden. Dabei ist es keine Frage, ob Bakterien Resistenzen evolvieren, sondern lediglich wann dies passiert."},{type:"text",value:"Wenn Bakterien gegen mehrere Antibiotika-Gruppen Resistenzen evolviert haben, spricht man von Multiresistenz. Diese multiresistenten Keime können lebensbedrohliche Infektionen verursachen und sind ein großes Problem in der Gesundheitsversorgung weltweit. Sie können sich in Krankenhäusern, Pflegeheimen und anderen Gesundheitseinrichtungen, aber auch in der Tierhaltung oder in der Umwelt schnell verbreiten. Die Suche nach wirksamen Therapien ist oft teuer, schwierig und langwierig. Schon jetzt sterben Schätzungen nach weltweit jedes Jahr mehr als eine Million Menschen an einer Infektion mit antibiotikaresistenten Bakterien. Wenn diese Entwicklung so weitergeht, werden 2050 mehr Leute an antibiotikaresistenten Erregern sterben als an Krebs."},{type:"text",value:"Wie schnell Bakterien Resistenzen gegen gesteigerte Dosen eines Antibiotikums evolvieren zeigt das folgende Experiment: Forschende der Kieler Universität haben in einer geschützten Laborumgebung unabhängige Populationen des Bakteriums Pseudomonas aeruginosa (abgekürzt mit P.aeruginosa) mit deutlich erhöhter Resistenz gegen acht verschiedene Antibiotika erzeugt. P.aeruginosa ist eine Bakterienart, die häufig Resistenzen gegenüber verschiedenen Antibiotika aufweist. Der Erreger kann eine Vielzahl von Krankheiten hervorrufen, insbesondere bei Menschen mit geschwächtem Immunsystem oder chronischen Krankheiten."},{type:"text",value:"Für das Evolutionsexperiment haben die Wissenschaftler:innen aus der Arbeitsgruppe von Professor Hinrich Schulenburg jeweils 20 genetisch identische Populationen gegen ansteigende Konzentrationen von acht verschiedenen Antibiotika getestet. Außerdem haben sie Populationen von P.aeruginosa als Kontrollpopulation einbezogen, die in einem Medium ohne Antibiotikazusatz gezüchtet wurde. Insgesamt standen 180 unabhängige Populationen zur Verfügung."},{type:"text",value:"Zu Beginn des Experiments wurden pro Antibiotikum 20 Bakterienpopulationen einer bestimmten Ausgangskonzentration des Antibiotikums ausgesetzt. Alle 12 Stunden haben die Forscher:innen dann die Hälfte der Bakterienpopulation in ein neues Medium übertragen und dabei die Antibiotikakonzentration schrittweise erhöht. Dies taten sie 24 Tage lang bis entweder die Antibiotikakonzentration das 80-fache der jeweiligen Ausgangskonzentration erreicht hatte oder bis weniger als die Hälfte der Ausgangspopulation unter Zugabe des Antibiotikums noch wuchs."},{type:"text",value:"Insgesamt erhielten die Forschenden nach 48 Übertragungen und ungefähr 58 Bakterien-Generationen so 160 Populationen, die an acht verschiedene Antibiotika angepasst waren, und zusätzlich 20 Kontrollpopulationen. Es zeigte sich, dass P.aeruginosa innerhalb von 58 Generationen oder weniger, also sehr schnell, Resistenzniveaus erreichen konnte, die das 64-fache der Ausgangskonzentration betrug oder überstieg."},{type:"text",value:"Besonders auffällig und interessant war für die Forscher:innen, dass sie erhebliche Unterschiede innerhalb der einzelnen Antibiotikabehandlungen feststellen konnten. Dies deutet auf unterschiedliche Wege der Anpassung an das Antibiotikum hin. Eine ähnliche Zunahme der Resistenz konnte zum Beispiel ein Forscherteam aus Spanien mit einem verwandten P.aeruginosa-Stamm feststellen, was das Anpassungspotenzial dieser Art unterstreicht. Dieselbe Studie ergab in den meisten Fällen zudem einen Zusammenhang zwischen der erhöhten Resistenz und genomischen Veränderungen in bekannten Resistenzwegen. Die Resistenz von P.aeruginosa scheint also schnell durch verschiedene Mechanismen erreicht zu werden."},{type:"text",value:"Was die Kieler Forschungsgruppe mit diesem Experiment herausgefunden hat, lässt sich so oder ähnlich auf andere Bakterien übertragen: die Erreger evolvieren innerhalb kürzester Zeit Resistenzen gegen verschiedene Antibiotika – selbst wenn die Konzentration fortlaufend gesteigert wird. Dabei lassen sich verschiedene Mechanismen der Resistenzentwicklung beobachten, die eine Vorhersehbarkeit erschwert."},{type:"text",value:"Im Wettlauf haben die resistenten Bakterien also aktuell die Nase vorn."},{type:"text",value:"Wenn die Bakterien diesen Wettlauf gegen die Antibiotikaresistenz gewinnen, wird eine Welt ohne wirksame Antibiotika unausweichlich sein. Und diese Welt wäre in der Tat ein gefährlicher Ort für die Menschen."},{type:"text",value:"Um dies zu vermeiden, müssen wir die Art und Weise ändern, wie wir Antibiotika bei der Behandlung von Krankheiten beim Menschen, aber auch in der Tierhaltung oder Landwirtschaft einsetzen. Dazu müssen wir besser verstehen, wie Bakterien Resistenzen gegen Antibiotika entwickeln und ob es für die Bakterien Nachteile gibt, wenn dies geschieht."}],wh=[{type:"text",value:"Wir leben in einer Welt mit Antibiotika."},{type:"text",value:"Mit Antibiotika können durch Bakterien verursachte Infektionen wirksam behandelt werden."},{type:"text",value:"Antibiotika haben die medizinische Praxis im letzten Jahrhundert revolutioniert. Vor ihrer Entdeckung waren Infektionskrankheiten oft tödlich, und medizinische Routineeingriffe und Operationen waren riskant. Heute werden Antibiotika zur Behandlung eines breiten Spektrums bakterieller Infektionen eingesetzt und haben unzählige Leben gerettet."},{type:"text",value:"Einer der wichtigsten Beiträge von Antibiotika ist die Behandlung von Blutvergiftungen. Eine Blutvergiftung entsteht, wenn eine Infektion im Körper eine Entzündungsreaktion auslöst, die Organe schädigen und zum Tod führen kann. Antibiotika werden eingesetzt, um die Bakterien, die die Infektion verursachen, abzutöten. Vor einem Jahrhundert überlebten nur etwa 10 von 100 Infizierten eine Blutvergiftung, heute und mit Hilfe von Antibiotika erholen sich etwa 90 von 100."},{type:"text",value:"Lungenentzündung ist eine weitere Infektion, die mit Antibiotika behandelt werden kann. Sie ist besonders gefährlich für Menschen mit einem geschwächten Immunsystem wie ältere Menschen, Säuglinge oder Kleinkinder. Antibiotika können dazu beitragen, die Bakterien, welche die Infektion verursachen, abzutöten. So kann ihre Ausbreitung im Körper verhindert werden, so dass dieser heilen kann. Heutzutage werden von 100 000 Todesfällen nur etwa 10 durch Lungenentzündung verursacht, ein Bruchteil dessen, was im Jahr 1900 der Fall war, bevor Antibiotika zur Verfügung standen."},{type:"text",value:"Auch die Tuberkulose, eine bakterielle Infektion, die vor allem die Lunge befällt, ist mit Antibiotika behandelbar. Tuberkulose ist immer noch ein großes Problem in unterentwickelten Ländern, in denen Gesundheitsversorgung und Antibiotika nicht überall verfügbar sind. Mit Antibiotika kann die Infektion wirksam behandelt und die Ausbreitung der Bakterien im Körper verhindert werden."},{type:"text",value:"Dank Antibiotika sind medizinische Eingriffe und alltägliche Operationen möglich."},{type:"text",value:"Antibiotika werden eingesetzt, um Infektionen bei Operationen und medizinischen Eingriffen zu verhindern. Dank Antibiotika sind Routineoperationen wie Hüft- oder Kniegelenkersatz und selbst kleinere Eingriffe wie die Entfernung des Blinddarms heute weit weniger riskant als früher. Da diese alltäglichen Eingriffe möglich sind, müssen Menschen weniger Schmerzen leiden und können gesünder leben."},{type:"text",value:"Für Frauen, die entbinden, sind Antibiotika unerlässlich, um Infektionen zu verhindern und das Risiko von Komplikationen während der Geburt zu verringern. Insbesondere Kaiserschnitte sind ein häufiger chirurgischer Eingriff, bei dem Antibiotika zur Vermeidung von Infektionen eingesetzt werden. Da Antibiotika zur Verfügung stehen und wirksam sind, sind Kaiserschnitte möglich, um die Mutter und das ungeborene Kind zu retten, wenn es bei der Geburt zu Komplikationen kommt."},{type:"text",value:"Antibiotika haben die Medizin verändert, unzählige Leben gerettet und ein gesünderes und besseres Leben ermöglicht."},{type:"text",value:"Aber wir laufen Gefahr, wirksame Antibiotika zu verlieren, weil antibiotikaresistente Bakterien auf dem Vormarsch sind. Wir befinden uns in einer akuten Krise, und der Wettlauf mit der Evolution um Sieg oder Niederlage in der Frage der Antibiotikaresistenz hat begonnen."},{type:"text",value:"Was bedeutet das?"},{type:"text",value:"Um trotz des hohen Einsatzes von Antibiotika zu überleben, haben Bakterien zufällige genetische Veränderungen, sogenannte Mutationen, entwickelt (man spricht dabei auch davon, dass Bakterien Resistenzen evolvieren). Diese Mutationen entstehen ganz natürlich im Laufe der Vermehrung und der Evolution. In der Folge sind einzelne Bakterien weniger anfällig oder sogar resistent gegen ein Antibiotikum. Die Wirkung der Medikamente lässt somit nach oder ist gar nicht mehr vorhanden. Dabei ist es keine Frage, ob Bakterien Resistenzen evolvieren, sondern lediglich wann dies passiert."},{type:"text",value:"Wenn Bakterien gegen mehrere Antibiotika-Gruppen Resistenzen evolviert haben, spricht man von Multiresistenz. Diese multiresistenten Keime können lebensbedrohliche Infektionen verursachen und sind ein großes Problem in der Gesundheitsversorgung weltweit. Sie können sich in Krankenhäusern, Pflegeheimen und anderen Gesundheitseinrichtungen, aber auch in der Tierhaltung oder in der Umwelt schnell verbreiten. Die Suche nach wirksamen Therapien ist oft teuer, schwierig und langwierig. Schon jetzt sterben Schätzungen nach weltweit jedes Jahr mehr als eine Million Menschen an einer Infektion mit antibiotikaresistenten Bakterien. Wenn diese Entwicklung so weitergeht, werden 2050 mehr Leute an antibiotikaresistenten Erregern sterben als an Krebs."},{type:"text",value:"Wie schnell Bakterien Resistenzen gegen gesteigerte Dosen eines Antibiotikums evolvieren zeigt das folgende Experiment: Forschende der Kieler Universität haben in einer geschützten Laborumgebung unabhängige Populationen des Bakteriums Pseudomonas aeruginosa (abgekürzt mit P.aeruginosa) mit deutlich erhöhter Resistenz gegen acht verschiedene Antibiotika erzeugt. P.aeruginosa ist eine Bakterienart, die häufig Resistenzen gegenüber verschiedenen Antibiotika aufweist. Der Erreger kann eine Vielzahl von Krankheiten hervorrufen, insbesondere bei Menschen mit geschwächtem Immunsystem oder chronischen Krankheiten."},{type:"text",value:"Für das Evolutionsexperiment haben die Wissenschaftler:innen aus der Arbeitsgruppe von Professor Hinrich Schulenburg jeweils 20 genetisch identische Populationen gegen ansteigende Konzentrationen von acht verschiedenen Antibiotika getestet. Außerdem haben sie Populationen von P.aeruginosa als Kontrollpopulation einbezogen, die in einem Medium ohne Antibiotikazusatz gezüchtet wurde. Insgesamt standen 180 unabhängige Populationen zur Verfügung."},{type:"text",value:"Zu Beginn des Experiments wurden pro Antibiotikum 20 Bakterienpopulationen einer bestimmten Ausgangskonzentration des Antibiotikums ausgesetzt. Alle 12 Stunden haben die Forscher:innen dann die Hälfte der Bakterienpopulation in ein neues Medium übertragen und dabei die Antibiotikakonzentration schrittweise erhöht. Dies taten sie 24 Tage lang bis entweder die Antibiotikakonzentration das 80-fache der jeweiligen Ausgangskonzentration erreicht hatte oder bis weniger als die Hälfte der Ausgangspopulation unter Zugabe des Antibiotikums noch wuchs."},{type:"text",value:"Insgesamt erhielten die Forschenden nach 48 Übertragungen und ungefähr 58 Bakterien-Generationen so 160 Populationen, die an acht verschiedene Antibiotika angepasst waren, und zusätzlich 20 Kontrollpopulationen. Es zeigte sich, dass P.aeruginosa innerhalb von 58 Generationen oder weniger, also sehr schnell, Resistenzniveaus erreichen konnte, die das 64-fache der Ausgangskonzentration betrug oder überstieg."},{type:"text",value:"Besonders auffällig und interessant war für die Forscher:innen, dass sie erhebliche Unterschiede innerhalb der einzelnen Antibiotikabehandlungen feststellen konnten. Dies deutet auf unterschiedliche Wege der Anpassung an das Antibiotikum hin. Eine ähnliche Zunahme der Resistenz konnte zum Beispiel ein Forscherteam aus Spanien mit einem verwandten P.aeruginosa-Stamm feststellen, was das Anpassungspotenzial dieser Art unterstreicht. Dieselbe Studie ergab in den meisten Fällen zudem einen Zusammenhang zwischen der erhöhten Resistenz und genomischen Veränderungen in bekannten Resistenzwegen. Die Resistenz von P.aeruginosa scheint also schnell durch verschiedene Mechanismen erreicht zu werden."},{type:"text",value:"Was die Kieler Forschungsgruppe mit diesem Experiment herausgefunden hat, lässt sich so oder ähnlich auf andere Bakterien übertragen: die Erreger evolvieren innerhalb kürzester Zeit Resistenzen gegen verschiedene Antibiotika – selbst wenn die Konzentration fortlaufend gesteigert wird. Dabei lassen sich verschiedene Mechanismen der Resistenzentwicklung beobachten, die eine Vorhersehbarkeit erschwert."},{type:"text",value:"Im Wettlauf haben die resistenten Bakterien also aktuell die Nase vorn."},{type:"text",value:"Wenn die Bakterien diesen Wettlauf gegen die Antibiotika gewinnen, besteht die Gefahr, dass wir unser wirksamstes Mittel gegen unzählige Krankheiten verlieren. Das Leben der Menschen wäre dann viel weniger gesund als jetzt."},{type:"text",value:"Um unser gesundes Leben in einer Welt mit wirksamen Antibiotika zu erhalten, müssen wir die Art und Weise ändern, wie wir Antibiotika bei der Behandlung von Krankheiten beim Menschen, aber auch in der Tierhaltung oder Landwirtschaft einsetzen. Dazu müssen wir besser verstehen, wie Bakterien Resistenzen gegen Antibiotika entwickeln und ob es für die Bakterien Nachteile gibt, wenn dies geschieht."}],Mh=[{type:"text",value:"Was bedeutet das?"},{type:"text",value:"Um trotz des hohen Einsatzes von Antibiotika zu überleben, haben Bakterien zufällige genetische Veränderungen, sogenannte Mutationen, entwickelt (man spricht dabei auch davon, dass Bakterien Resistenzen evolvieren). Diese Mutationen entstehen ganz natürlich im Laufe der Vermehrung und der Evolution. In der Folge sind einzelne Bakterien weniger anfällig oder sogar resistent gegen ein Antibiotikum. Die Wirkung der Medikamente lässt somit nach oder ist gar nicht mehr vorhanden. Dabei ist es keine Frage, ob Bakterien Resistenzen evolvieren, sondern lediglich wann dies passiert."},{type:"text",value:"Wenn Bakterien gegen mehrere Antibiotika-Gruppen Resistenzen evolviert haben, spricht man von Multiresistenz. Diese multiresistenten Keime können lebensbedrohliche Infektionen verursachen und sind ein großes Problem in der Gesundheitsversorgung weltweit. Sie können sich in Krankenhäusern, Pflegeheimen und anderen Gesundheitseinrichtungen, aber auch in der Tierhaltung oder in der Umwelt schnell verbreiten. Die Suche nach wirksamen Therapien ist oft teuer, schwierig und langwierig. Schon jetzt sterben Schätzungen nach weltweit jedes Jahr mehr als eine Million Menschen an einer Infektion mit antibiotikaresistenten Bakterien. Wenn diese Entwicklung so weitergeht, werden 2050 mehr Leute an antibiotikaresistenten Erregern sterben als an Krebs."},{type:"text",value:"Wie schnell Bakterien Resistenzen gegen gesteigerte Dosen eines Antibiotikums evolvieren zeigt das folgende Experiment: Forschende der Kieler Universität haben in einer geschützten Laborumgebung unabhängige Populationen des Bakteriums Pseudomonas aeruginosa (abgekürzt mit P.aeruginosa) mit deutlich erhöhter Resistenz gegen acht verschiedene Antibiotika erzeugt. P.aeruginosa ist eine Bakterienart, die häufig Resistenzen gegenüber verschiedenen Antibiotika aufweist. Der Erreger kann eine Vielzahl von Krankheiten hervorrufen, insbesondere bei Menschen mit geschwächtem Immunsystem oder chronischen Krankheiten."},{type:"text",value:"Für das Evolutionsexperiment haben die Wissenschaftler:innen aus der Arbeitsgruppe von Professor Hinrich Schulenburg jeweils 20 genetisch identische Populationen gegen ansteigende Konzentrationen von acht verschiedenen Antibiotika getestet. Außerdem haben sie Populationen von P.aeruginosa als Kontrollpopulation einbezogen, die in einem Medium ohne Antibiotikazusatz gezüchtet wurde. Insgesamt standen 180 unabhängige Populationen zur Verfügung."},{type:"text",value:"Zu Beginn des Experiments wurden pro Antibiotikum 20 Bakterienpopulationen einer bestimmten Ausgangskonzentration des Antibiotikums ausgesetzt. Alle 12 Stunden haben die Forscher:innen dann die Hälfte der Bakterienpopulation in ein neues Medium übertragen und dabei die Antibiotikakonzentration schrittweise erhöht. Dies taten sie 24 Tage lang bis entweder die Antibiotikakonzentration das 80-fache der jeweiligen Ausgangskonzentration erreicht hatte oder bis weniger als die Hälfte der Ausgangspopulation unter Zugabe des Antibiotikums noch wuchs."},{type:"text",value:"Insgesamt erhielten die Forschenden nach 48 Übertragungen und ungefähr 58 Bakterien-Generationen so 160 Populationen, die an acht verschiedene Antibiotika angepasst waren, und zusätzlich 20 Kontrollpopulationen. Es zeigte sich, dass P.aeruginosa innerhalb von 58 Generationen oder weniger, also sehr schnell, Resistenzniveaus erreichen konnte, die das 64-fache der Ausgangskonzentration betrug oder überstieg."},{type:"text",value:"Besonders auffällig und interessant war für die Forscher:innen, dass sie erhebliche Unterschiede innerhalb der einzelnen Antibiotikabehandlungen feststellen konnten. Dies deutet auf unterschiedliche Wege der Anpassung an das Antibiotikum hin. Eine ähnliche Zunahme der Resistenz konnte zum Beispiel ein Forscherteam aus Spanien mit einem verwandten P.aeruginosa-Stamm feststellen, was das Anpassungspotenzial dieser Art unterstreicht. Dieselbe Studie ergab in den meisten Fällen zudem einen Zusammenhang zwischen der erhöhten Resistenz und genomischen Veränderungen in bekannten Resistenzwegen. Die Resistenz von P.aeruginosa scheint also schnell durch verschiedene Mechanismen erreicht zu werden."},{type:"text",value:"Was die Kieler Forschungsgruppe mit diesem Experiment herausgefunden hat, lässt sich so oder ähnlich auf andere Bakterien übertragen: die Erreger evolvieren innerhalb kürzester Zeit Resistenzen gegen verschiedene Antibiotika – selbst wenn die Konzentration fortlaufend gesteigert wird. Dabei lassen sich verschiedene Mechanismen der Resistenzentwicklung beobachten, die eine Vorhersehbarkeit erschwert."},{type:"text",value:"Im Wettlauf haben die resistenten Bakterien also aktuell die Nase vorn."}],Je={h1:vh,fear_frame:kh,hope_frame:wh,text:Mh};const{window:fe}=ur;function ki(e,n,t){const i=e.slice();return i[26]=n[t],i[28]=t,i}function wi(e){let n,t,i,r=e[28].toString().padStart(2,"0")+"",s,o,a=$h(e[28]+1)+"",l,h,d,u,c=e[26].value+"",f,b;return{c(){n=N("div"),t=N("p"),i=se("P.aeruginosa | Tag "),s=se(r),o=se(` | Antibiotikakonzentration
				`),l=se(a),h=se("x | Population 0.24"),d=we(),u=N("p"),f=se(c),b=we(),this.h()},l(m){n=D(m,"DIV",{class:!0,style:!0});var y=he(n);t=D(y,"P",{class:!0,style:!0});var p=he(t);i=oe(p,"P.aeruginosa | Tag "),s=oe(p,r),o=oe(p,` | Antibiotikakonzentration
				`),l=oe(p,a),h=oe(p,"x | Population 0.24"),p.forEach(C),d=Me(y),u=D(y,"P",{class:!0});var v=he(u);f=oe(v,c),v.forEach(C),y.forEach(C),b=Me(m),this.h()},h(){T(t,"class","info svelte-104parx"),ie(t,"color",e[6][e[28]].formatRgb()),ie(t,"border-color",e[6][e[28]].formatRgb()),ie(t,"background",(e[6][e[28]].opacity=.1,e[6][e[28]].formatRgb())),T(u,"class","card svelte-104parx"),T(n,"class","card-wrap svelte-104parx"),ie(n,"border-image-source","linear-gradient( to right, rgba(255, 0, 0, 0) 0%, "+(e[6][e[28]].opacity=.35,e[6][e[28]].formatRgb())+" 5%, "+e[6][e[28]].formatRgb()+" 95%, rgba(255, 0, 0, 0) 100% )")},m(m,y){xe(m,n,y),E(n,t),E(t,i),E(t,s),E(t,o),E(t,l),E(t,h),E(n,d),E(n,u),E(u,f),xe(m,b,y)},p(m,y){y&64&&ie(t,"color",m[6][m[28]].formatRgb()),y&64&&ie(t,"border-color",m[6][m[28]].formatRgb()),y&64&&ie(t,"background",(m[6][m[28]].opacity=.1,m[6][m[28]].formatRgb())),y&64&&ie(n,"border-image-source","linear-gradient( to right, rgba(255, 0, 0, 0) 0%, "+(m[6][m[28]].opacity=.35,m[6][m[28]].formatRgb())+" 5%, "+m[6][m[28]].formatRgb()+" 95%, rgba(255, 0, 0, 0) 100% )")},d(m){m&&C(n),m&&C(b)}}}function xh(e){let n=!1,t=()=>{n=!1},i,r,s,o,a,l,h=Je.h1+"",d,u,c,f,b,m,y;xt(e[7]),xt(e[8]);let p=Je.fear_frame,v=[];for(let w=0;w<p.length;w+=1)v[w]=wi(ki(e,p,w));return{c(){r=N("canvas"),s=we(),o=N("div"),a=N("div"),l=N("h1"),d=se(h),u=we(),c=N("h2"),f=se("Ein Visual Essay des Kiel Science Communication Network"),b=we();for(let w=0;w<v.length;w+=1)v[w].c();this.h()},l(w){r=D(w,"CANVAS",{class:!0}),he(r).forEach(C),s=Me(w),o=D(w,"DIV",{class:!0});var _=he(o);a=D(_,"DIV",{class:!0});var x=he(a);l=D(x,"H1",{class:!0});var P=he(l);d=oe(P,h),P.forEach(C),u=Me(x),c=D(x,"H2",{class:!0});var R=he(c);f=oe(R,"Ein Visual Essay des Kiel Science Communication Network"),R.forEach(C),x.forEach(C),b=Me(_);for(let I=0;I<v.length;I+=1)v[I].l(_);_.forEach(C),this.h()},h(){T(r,"class","svelte-104parx"),T(l,"class","svelte-104parx"),T(c,"class","svelte-104parx"),T(a,"class","h1-wrap svelte-104parx"),T(o,"class","wrapper svelte-104parx")},m(w,_){xe(w,r,_),e[9](r),xe(w,s,_),xe(w,o,_),E(o,a),E(a,l),E(l,d),E(a,u),E(a,c),E(c,f),E(o,b);for(let x=0;x<v.length;x+=1)v[x].m(o,null);m||(y=[zt(fe,"scroll",()=>{n=!0,clearTimeout(i),i=setTimeout(t,100),e[7]()}),zt(fe,"resize",e[8])],m=!0)},p(w,[_]){if(_&24&&!n&&(n=!0,clearTimeout(i),scrollTo(w[3],w[4]),i=setTimeout(t,100)),_&64){p=Je.fear_frame;let x;for(x=0;x<p.length;x+=1){const P=ki(w,p,x);v[x]?v[x].p(P,_):(v[x]=wi(P),v[x].c(),v[x].m(o,null))}for(;x<v.length;x+=1)v[x].d(1);v.length=p.length}},i:Ne,o:Ne,d(w){w&&C(r),e[9](null),w&&C(s),w&&C(o),ar(v,w),m=!1,lr(y)}}}let zh=9,_h=16;const Ah=800;let Th=1;function $h(e,n=.5,t=40,i=1,r=24,s=2){return(n+(t-n)*Math.pow((e-i)/(r-i),s)).toFixed(1)}function Ph(e,n,t){let i,r,s,o,a,l,h=0,d,u,c=1,f=1,b=0,m=1,y=0,p=0,v=!0,w,_=[],x=[],P=[];w=new dt({numPoints:Je.fear_frame.length,anchorColors:[[0,1,1],[0,1,.5]]}),_=[...w.colors].map(g=>tr({mode:"hsl",h:g[0],s:g[1],l:g[2],alpha:.35})),x=[..._].map(g=>De(g)),hr(()=>{P=document.querySelectorAll(".card-wrap");const g=R();m=h,y=h,p=h,r=i.getContext("2d"),t(0,i.width=o,i),t(0,i.height=a,i),r.translate(0,-h);let $=kn(".wrapper").node().getBoundingClientRect();u=new gh(o,$.height,600,r,h,a,g),u.generate(Th,Ah),A();function A(){if(c=h/zh,b=c-f,f+=b/_h,p=m-y,y+=p,u.display(r,m,a,c,f),Math.abs(b)<.1){v=!1;return}r.translate(0,-p),window.requestAnimationFrame(A)}kn(window).on("scroll",function(){m=h,v||(v=!0,A())}),kn(window).on("beforeunload",function(){s.terminate()})});function R(){const g=[];return P.forEach($=>{const A={top:$.offsetTop,height:$.offsetHeight};g.push(A)}),g}function I(){t(3,l=fe.pageXOffset),t(4,h=fe.pageYOffset)}function B(){t(1,o=fe.innerWidth),t(2,a=fe.innerHeight),t(5,d=fe.outerHeight)}function M(g){cr[g?"unshift":"push"](()=>{i=g,t(0,i)})}return[i,o,a,l,h,d,x,I,B,M]}class Ih extends it{constructor(n){super(),rt(this,n,Ph,xh,st,{})}}const Sh="Title TK",Rh="Description tk.",Mi={title:Sh,description:Rh};function Lh(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 0.4.0"),console.log("build: 2023-08-25-18:27"),console.log("--- --- --- --- --- ---")}function Bh(e){let n,t,i,r;return n=new yr({props:{title:e[1],description:e[2],url:e[3],preloadFont:e[0],keywords:e[4]}}),i=new Ih({}),{c(){_t(n.$$.fragment),t=we(),_t(i.$$.fragment)},l(s){At(n.$$.fragment,s),t=Me(s),At(i.$$.fragment,s)},m(s,o){Tt(n,s,o),xe(s,t,o),Tt(i,s,o),r=!0},p:Ne,i(s){r||($t(n.$$.fragment,s),$t(i.$$.fragment,s),r=!0)},o(s){Pt(n.$$.fragment,s),Pt(i.$$.fragment,s),r=!1},d(s){It(n,s),s&&C(t),It(i,s)}}}function Fh(e,n,t){let{data:i}=n;Lh();const r=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:s,description:o,url:a,keywords:l}=Mi;return St("copy",Mi),St("data",i.data),e.$$set=h=>{"data"in h&&t(5,i=h.data)},[r,s,o,a,l,i]}class Dh extends it{constructor(n){super(),rt(this,n,Fh,Bh,st,{data:5})}}export{Dh as default};
